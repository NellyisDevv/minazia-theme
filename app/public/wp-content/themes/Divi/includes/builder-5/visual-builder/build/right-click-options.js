/*! For license information please see right-click-options.js.LICENSE.txt */
!function(){var t={33042:function(t,e,o){var r;!function(){"use strict";var i=function t(e){var o,r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),i={use_static:!1};function a(t){var e=Object.getPrototypeOf(t);return e?Object.create(e):{}}function n(t,e,o){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!1,value:o})}function s(t,e){n(t,e,(function(){throw new h("The "+e+" method cannot be invoked on an Immutable data structure.")}))}"object"!=typeof(o=e)||Array.isArray(o)||null===o||void 0!==e.use_static&&(i.use_static=Boolean(e.use_static));var l="__immutable_invariants_hold";function d(t){return"object"!=typeof t||(null===t||Boolean(Object.getOwnPropertyDescriptor(t,l)))}function p(t,e){return t===e||t!=t&&e!=e}function c(t){return!(null===t||"object"!=typeof t||Array.isArray(t)||t instanceof Date)}var u=["setPrototypeOf"],g=u.concat(["push","pop","sort","splice","shift","unshift","reverse"]),m=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),b=u.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function h(t){this.name="MyError",this.message=t,this.stack=(new Error).stack}function f(t,e){for(var o in n(t,l,!0),e)e.hasOwnProperty(o)&&s(t,e[o]);return Object.freeze(t),t}function y(t,e){var o=t[e];n(t,e,(function(){return U(o.apply(t,arguments))}))}function v(t,e,o){var r=o&&o.deep;if(t in this&&(r&&this[t]!==e&&c(e)&&c(this[t])&&(e=U.merge(this[t],e,{deep:!0,mode:"replace"})),p(this[t],e)))return this;var i=k.call(this);return i[t]=U(e),A(i)}h.prototype=new Error,h.prototype.constructor=Error;var M=U([]);function w(t,e,o){var r=t[0];if(1===t.length)return v.call(this,r,e,o);var i,a=t.slice(1),n=this[r];if("object"==typeof n&&null!==n)i=U.setIn(n,a,e);else{var s=a[0];i=""!==s&&isFinite(s)?w.call(M,a,e):F.call(j,a,e)}if(r in this&&n===i)return this;var l=k.call(this);return l[r]=i,A(l)}function A(t){for(var e in m){if(m.hasOwnProperty(e))y(t,m[e])}i.use_static||(n(t,"flatMap",I),n(t,"asObject",N),n(t,"asMutable",k),n(t,"set",v),n(t,"setIn",w),n(t,"update",D),n(t,"updateIn",x),n(t,"getIn",B));for(var o=0,r=t.length;o<r;o++)t[o]=U(t[o]);return f(t,g)}function C(){return new Date(this.getTime())}function I(t){if(0===arguments.length)return this;var e,o=[],r=this.length;for(e=0;e<r;e++){var i=t(this[e],e,this);Array.isArray(i)?o.push.apply(o,i):o.push(i)}return A(o)}function _(t){if(void 0===t&&0===arguments.length)return this;if("function"!=typeof t){var e=Array.isArray(t)?t.slice():Array.prototype.slice.call(arguments);e.forEach((function(t,e,o){"number"==typeof t&&(o[e]=t.toString())})),t=function(t,o){return-1!==e.indexOf(o)}}var o=a(this);for(var r in this)this.hasOwnProperty(r)&&!1===t(this[r],r)&&(o[r]=this[r]);return z(o)}function k(t){var e,o,r=[];if(t&&t.deep)for(e=0,o=this.length;e<o;e++)r.push(O(this[e]));else for(e=0,o=this.length;e<o;e++)r.push(this[e]);return r}function N(t){"function"!=typeof t&&(t=function(t){return t});var e,o={},r=this.length;for(e=0;e<r;e++){var i=t(this[e],e,this),a=i[0],n=i[1];o[a]=n}return z(o)}function O(t){return!t||"object"!=typeof t||!Object.getOwnPropertyDescriptor(t,l)||t instanceof Date?t:U.asMutable(t,{deep:!0})}function T(t,e){for(var o in t)Object.getOwnPropertyDescriptor(t,o)&&(e[o]=t[o]);return e}function S(t,e){if(0===arguments.length)return this;if(null===t||"object"!=typeof t)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(t));var o,r,i=Array.isArray(t),n=e&&e.deep,s=e&&e.mode||"merge",l=e&&e.merger;function d(t,r,i){var s,d=U(r[i]),u=l&&l(t[i],d,e),g=t[i];void 0===o&&void 0===u&&t.hasOwnProperty(i)&&p(d,g)||(p(g,s=void 0!==u?u:n&&c(g)&&c(d)?U.merge(g,d,e):d)&&t.hasOwnProperty(i)||(void 0===o&&(o=T(t,a(t))),o[i]=s))}function u(t,e){for(var r in t)e.hasOwnProperty(r)||(void 0===o&&(o=T(t,a(t))),delete o[r])}if(i)for(var g=0,m=t.length;g<m;g++){var b=t[g];for(r in b)b.hasOwnProperty(r)&&d(void 0!==o?o:this,b,r)}else{for(r in t)Object.getOwnPropertyDescriptor(t,r)&&d(this,t,r);"replace"===s&&u(this,t)}return void 0===o?this:z(o)}function P(t,e){var o=e&&e.deep;if(0===arguments.length)return this;if(null===t||"object"!=typeof t)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(t));return U.merge(this,t,{deep:o,mode:"replace"})}var E,L,G,j=U({});function F(t,e,o){if(!Array.isArray(t)||0===t.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var r=t[0];if(1===t.length)return W.call(this,r,e,o);var i,n=t.slice(1),s=this[r];if(i=this.hasOwnProperty(r)&&"object"==typeof s&&null!==s?U.setIn(s,n,e):F.call(j,n,e),this.hasOwnProperty(r)&&s===i)return this;var l=T(this,a(this));return l[r]=i,z(l)}function W(t,e,o){var r=o&&o.deep;if(this.hasOwnProperty(t)&&(r&&this[t]!==e&&c(e)&&c(this[t])&&(e=U.merge(this[t],e,{deep:!0,mode:"replace"})),p(this[t],e)))return this;var i=T(this,a(this));return i[t]=U(e),z(i)}function D(t,e){var o=Array.prototype.slice.call(arguments,2),r=this[t];return U.set(this,t,e.apply(r,[r].concat(o)))}function R(t,e){for(var o=0,r=e.length;null!=t&&o<r;o++)t=t[e[o]];return o&&o==r?t:void 0}function x(t,e){var o=Array.prototype.slice.call(arguments,2),r=R(this,t);return U.setIn(this,t,e.apply(r,[r].concat(o)))}function B(t,e){var o=R(this,t);return void 0===o?e:o}function $(t){var e,o=a(this);if(t&&t.deep)for(e in this)this.hasOwnProperty(e)&&(o[e]=O(this[e]));else for(e in this)this.hasOwnProperty(e)&&(o[e]=this[e]);return o}function H(){return{}}function z(t){return i.use_static||(n(t,"merge",S),n(t,"replace",P),n(t,"without",_),n(t,"asMutable",$),n(t,"set",W),n(t,"setIn",F),n(t,"update",D),n(t,"updateIn",x),n(t,"getIn",B)),f(t,u)}function U(t,e,o){if(d(t)||function(t){return"object"==typeof t&&null!==t&&(60103===t.$$typeof||t.$$typeof===r)}(t)||function(t){return"undefined"!=typeof File&&t instanceof File}(t)||function(t){return"undefined"!=typeof Blob&&t instanceof Blob}(t)||function(t){return t instanceof Error}(t))return t;if(function(t){return"object"==typeof t&&"function"==typeof t.then}(t))return t.then(U);if(Array.isArray(t))return A(t.slice());if(t instanceof Date)return a=new Date(t.getTime()),i.use_static||n(a,"asMutable",C),f(a,b);var a,s=e&&e.prototype,l=(s&&s!==Object.prototype?function(){return Object.create(s)}:H)();if(null==o&&(o=64),o<=0)throw new h("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var p in o-=1,t)Object.getOwnPropertyDescriptor(t,p)&&(l[p]=U(t[p],void 0,o));return z(l)}function V(t){return function(){var e=[].slice.call(arguments),o=e.shift();return t.apply(o,e)}}function q(t,e){return function(){var o=[].slice.call(arguments),r=o.shift();return Array.isArray(r)?e.apply(r,o):t.apply(r,o)}}return U.from=U,U.isImmutable=d,U.ImmutableError=h,U.merge=V(S),U.replace=V(P),U.without=V(_),U.asMutable=(E=$,L=k,G=C,function(){var t=[].slice.call(arguments),e=t.shift();return Array.isArray(e)?L.apply(e,t):e instanceof Date?G.apply(e,t):E.apply(e,t)}),U.set=q(W,v),U.setIn=q(F,w),U.update=V(D),U.updateIn=V(x),U.getIn=V(B),U.flatMap=V(I),U.asObject=V(N),i.use_static||(U.static=t({use_static:!0})),Object.freeze(U),U}();void 0===(r=function(){return i}.call(e,o,e,t))||(t.exports=r)}()},93967:function(t,e){var o;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var o=arguments[e];o&&(t=n(t,a(o)))}return t}function a(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var o in t)r.call(t,o)&&t[o]&&(e=n(e,o));return e}function n(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0===(o=function(){return i}.apply(e,[]))||(t.exports=o)}()}},e={};function o(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,o),a.exports}o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};!function(){"use strict";o.r(r),o.d(r,{RightClickOptions:function(){return c},RightClickOptionsContainer:function(){return tt},getColorPickerOptions:function(){return at},getGradientStopOptions:function(){return st},getModalDraggableChildModuleListOptions:function(){return pt},getModalFieldOptions:function(){return ut},getModalGroupOptions:function(){return mt},getModalGroupTabOptions:function(){return ht},getModalTabOptions:function(){return yt},getModuleLabelById:function(){return S},getModuleOptions:function(){return Mt},getOptionOnClickPath:function(){return P},getPasteFieldAttrName:function(){return E},getPasteModuleOptionNoun:function(){return L},getPastePosition:function(){return G},getRightClickOptions:function(){return At},getUniqSelectedModuleIds:function(){return j},hasCopyModuleOption:function(){return F},hasPasteFieldOption:function(){return W},hasPasteFieldToGroupOption:function(){return D},hasPasteGroupToGroupOption:function(){return R},onClickCloneModule:function(){return m},onClickCopyField:function(){return h},onClickCopyGroup:function(){return f},onClickCopyGroupTab:function(){return y},onClickCopyModule:function(){return M},onClickCopyModuleStyle:function(){return w},onClickDeleteColumn:function(){return C},onClickDeleteModule:function(){return A},onClickDisableGlobal:function(){return _},onClickEditModule:function(){return N},onClickExpandAndActivateLayerModules:function(){return k},onClickPasteAttrsToAttrs:function(){return O},onClickPasteFieldAttrToAttr:function(){return T},onClickPasteFieldAttrToFlexibleAttr:function(){return H},onClickPasteGroupAttrsToFlexibleGroupAttrs:function(){return z},onClickPasteModule:function(){return U},onClickRemoveModule:function(){return q},onClickSaveToLibrary:function(){return V},onCloseRightClickOptions:function(){return Y},onMount:function(){return K},onOptionMouseEnter:function(){return Q},onUnmount:function(){return Z},registerRightClickOptionsStore:function(){return Ut},scrollToModule:function(){return $},selectChild:function(){return Ct},selectNext:function(){return It},selectParent:function(){return _t},selectPrev:function(){return kt},set:function(){return Nt},setOwnerData:function(){return Ot},setSelected:function(){return Tt},unset:function(){return St}});var t={};o.r(t),o.d(t,{selectChild:function(){return Ct},selectNext:function(){return It},selectParent:function(){return _t},selectPrev:function(){return kt},set:function(){return Nt},setOwnerData:function(){return Ot},setSelected:function(){return Tt},unset:function(){return St}});var e={};o.r(e),o.d(e,{getState:function(){return Lt},isActive:function(){return Et},isModuleRightClicked:function(){return Ht}});var i=window.vendor.React,a=o.n(i),n=o(93967),s=o.n(n),l=window.lodash,d=window.vendor.wp.i18n;function p(t,e,o,r,n,d){const c=t?.enable??!0;return a().createElement(i.Fragment,{key:`right-click-option-${t.name}`},t.topSeparator?a().createElement("span",{className:"et-vb-right-click-option-separator"}):null,a().createElement("span",{className:s()({"et-vb-right-click-option-wrap":!0,"et-vb-right-click-option-wrap--active":o===r&&(0,l.isEqual)(e,n),"et-vb-right-click-option-wrap--disabled":!c,"et-vb-right-click-option-wrap--has-children":(0,l.has)(t,"children")})},a().createElement("button",{type:"button",className:"et-vb-right-click-option",onClick:c?t.onClick:l.noop,value:t.name,onMouseEnter:()=>{!(0,l.isEqual)(d,l.noop)&&(0,l.isFunction)(d)&&d(e,o)}},t.label,t.shortcut?a().createElement("span",{className:"et-vb-right-click-option-shortcut"},t.shortcut.join(" ")):null),(0,l.isArray)(t.children)?function(t,e,o,r,i){return r.concat([o]).join("-").startsWith(e.join("-"))?a().createElement("div",{className:"et-vb-right-click-option-children"},t.map(((t,a)=>p(t,e,a,o,r,i)))):null}(t.children,e.concat([o]),r,n,d):null),t.bottomSeparator?a().createElement("span",{className:"et-vb-right-click-option-separator"}):null)}const c=({cursorPosition:t,windowHeight:e,windowWidth:o,options:r,selected:n,selectedParent:s,appWindowOffset:c,onMount:u=l.noop,onUnmount:g=l.noop,onOptionsContextMenu:m=l.noop,onOptionMouseEnter:b=l.noop,onOverlayClick:h=l.noop,onOverlayContextMenu:f=l.noop,adminBarHeight:y,builderBarWidth:v,pageBarHeight:M,sidebarLeftWidth:w,windowLocation:A="top",zoomScale:C})=>{(0,i.useEffect)((()=>((0,l.isFunction)(u)&&u(),()=>{(0,l.isFunction)(g)&&g()})),[]);const I=(({appWindowOffsetLeft:t,cursorX:e,windowWidth:o,builderBarWidth:r,sidebarLeftWidth:i,windowLocation:a,zoomScale:n})=>{const s=e>o-180?180:0;return{property:"left",value:"app"===a?(e-s)*n+r+i+t:e-s}})({cursorX:t.x,appWindowOffsetLeft:c.left,windowWidth:o,builderBarWidth:v,sidebarLeftWidth:w,windowLocation:A,zoomScale:C}),_=(({cursorY:t,windowHeight:e,appWindowOffsetTop:o,adminBarHeight:r,pageBarHeight:i,windowLocation:a,zoomScale:n})=>{const s="app"===a?t*n:t,l=s>e/2?"bottom":"top";return{property:l,value:"top"===l?s+("app"===a?r+i:0):e-s-o-("app"===a?r+i:0)}})({cursorY:t.y,windowHeight:e,appWindowOffsetTop:c.top,adminBarHeight:y,pageBarHeight:M,windowLocation:A,zoomScale:C});return a().createElement(a().Fragment,null,a().createElement("div",{className:`et-vb-right-click-options et-vb-right-click-options--${_.property}`,style:{[I.property]:I.value,[_.property]:_.value},onContextMenu:m},r.map(((t,e)=>p(t,[0],e,n,s,b)))),a().createElement("div",{className:"et-vb-right-click-overlay",role:"button",tabIndex:0,"aria-label":(0,d.__)("Right Click Options Overlay","et_builder"),onKeyDown:l.noop,onClick:h,onContextMenu:f}))};var u=window.divi.data,g=window.divi.uiLibrary;const m=(t,e)=>{(0,u.dispatch)("divi/edit-post").cloneModule({id:t,moduleAppearanceSettings:(0,u.select)("divi/module-library").getModuleAppearanceSettings(),themeBuilderLayout:(0,u.select)("divi/settings").getSetting(["themeBuilder","layout"]),moduleCount:(0,u.select)("divi/module").getModuleCount()},e),(0,u.dispatch)("divi/right-click-options").unset()};var b=window.divi.moduleUtils;const h=({attrName:t,subName:e,moduleId:o,modalName:r,fieldName:i,fieldOptions:a,fieldLabel:n,groupName:s,moduleObject:l})=>{const d=t.split("."),p=["props","attrs"].concat(d),c=l.getIn(p),g=c?(0,b.extractFieldAttrValue)(c,e):{};(0,u.dispatch)("divi/clipboard").addItem({origin:o,clipboardType:"moduleFieldAttribute",payload:{attrName:t,subName:e,moduleId:o,modalName:r,fieldName:i,fieldOptions:a,fieldLabel:n,fieldAttr:g,groupName:s}}),(0,u.dispatch)("divi/right-click-options").unset()},f=({origin:t,moduleId:e,modalName:o,modalTab:r,groupId:i,groupLabel:a,groupName:n,attrsMap:s,attrsGroupNameMap:l,attrs:d})=>{(0,u.dispatch)("divi/clipboard").addItem({origin:t,clipboardType:"moduleGroupAttributes",payload:{moduleId:e,modalName:o,modalTab:r,groupId:i,groupLabel:a,groupName:n,attrsMap:s,attrsGroupNameMap:l,attrs:d}}),(0,u.dispatch)("divi/right-click-options").unset()},y=({origin:t,moduleId:e,modalName:o,groupId:r,groupTabLabel:i,groupTabName:a,attrsMap:n,attrsGroupNameMap:s,attrs:l})=>{(0,u.dispatch)("divi/clipboard").addItem({origin:t,clipboardType:"moduleGroupTabAttributes",payload:{moduleId:e,modalName:o,groupId:r,groupTabLabel:i,groupTabName:a,attrsMap:n,attrsGroupNameMap:s,attrs:l}}),(0,u.dispatch)("divi/right-click-options").unset()};var v=window.divi.clipboard;const M=({moduleId:t})=>{(0,v.copyModuleToClipboard)(t),(0,u.dispatch)("divi/right-click-options").unset()},w=({moduleId:t,moduleLabel:e,attrsMap:o,attrs:r})=>{(0,u.dispatch)("divi/clipboard").addItem({origin:t,clipboardType:"moduleAttributes",payload:{moduleId:t,moduleLabel:e,attrsMap:o,attrs:r}}),(0,u.dispatch)("divi/right-click-options").unset()},A=t=>{(0,u.dispatch)("divi/edit-post").removeModule(t),(0,u.dispatch)("divi/right-click-options").unset()},C=t=>{(0,u.dispatch)("divi/edit-post").removeColumn(t),(0,u.dispatch)("divi/right-click-options").unset()};function I(t){const{globalModule:e}=(0,u.select)("divi/edit-post").getModuleAttrs(t);if(e)return t;const o=(0,u.select)("divi/edit-post").getModule(t);return o.parent?I(o.parent):null}const _=({moduleId:t})=>{const e=I(t);(0,u.dispatch)("divi/edit-post").disableGlobalModule(e),(0,u.dispatch)("divi/right-click-options").unset()},k=t=>{(0,u.select)("divi/edit-post").getAncestorModules(t).forEach((t=>{(0,u.dispatch)("divi/modal-library").setLayersViewModule({moduleId:t?.id,data:{expand:!0,active:!1}})})),(0,u.dispatch)("divi/modal-library").setLayersViewActiveModuleId(t)},N=(t,e)=>{const o="divi/shortcode-module"===e?"divi/module-shortcode":"divi/module";(0,u.dispatch)("divi/modal-library").open({owner:t,name:o}),(0,u.dispatch)("divi/right-click-options").unset(),k(t)},O=({sourceAttrsMap:t,sourceAttrs:e,targetModuleId:o,targetAttrsMap:r,targetAttrs:i})=>{const a=(0,v.mergeAttrsIntoAttrs)({sourceAttrsMap:t,sourceAttrs:e,targetAttrsMap:r,targetAttrs:i});(0,u.dispatch)("divi/edit-post").replaceModuleAttributes(o,a,"user",!0),(0,u.dispatch)("divi/right-click-options").unset()},T=({sourceAttr:t,targetModuleId:e,targetAttr:o,targetAttrName:r,targetSubName:i})=>{const a=(0,v.mergeFieldAttrIntoResponsiveAttr)({sourceFieldAttr:t,targetResponsiveAttr:o,targetSubName:i});(0,u.dispatch)("divi/edit-post").editModuleAttribute({id:e,attrName:r,value:a}),(0,u.dispatch)("divi/right-click-options").unset()},S=t=>{const e=(0,u.select)("divi/edit-post").getModuleName(t),o=(0,u.select)("divi/module-library").getModule(e);let r=(0,l.get)(o,"title",""),i=(0,l.get)(o,"titles","");if("divi/shortcode-module"===e){const e=(0,u.select)("divi/edit-post").getModule(t),o=(0,u.select)("divi/settings").getSetting(["shortcodeModuleDefinitions",e?.props?.attrs.shortcodeName]);r=o?.name??"",i=o?.plural??""}return{structure:r?"structure"===(0,l.get)(o,"category")?r:(0,d.__)("Module","et_builder"):"",structures:i?"structure"===(0,l.get)(o,"category")?i:(0,d.__)("Modules","et_builder"):"",name:r}},P=(t,e)=>{if((0,l.isEqual)([0],t))return["options",String(e),"onClick"];const o=[].concat(t).splice(1).join("-children-").split("-");return["options"].concat(o).concat(["children",String(e),"onClick"])},E=({attrName:t,subName:e,attrsMaps:o,groupName:r})=>{const i=e?t.split(".").concat([e]):[t];return(0,l.has)(o,["attrsStructureMap"].concat(i))?t:(0,l.get)(o,["attrsGroupNameMap",r,e,0])},L=({clipboardType:t,moduleId:e,moduleIds:o})=>"module"===t?(0,l.get)(S(e),"structure"):(0,l.get)(S(o[0]),"structures"),G=({ownerParentModuleType:t,ownerModuleType:e,clipboardModuleType:o})=>(0,b.isValidChild)(t,o)?"after":!!(0,b.isValidChild)(e,o)&&"inside",j=({moduleId:t,selectedModuleIds:e})=>(0,l.isArray)(e)?(0,l.uniq)(e.concat([t])):[t],F=t=>{const{isCloneable:e,selectedModuleIds:o}=t;if(!e)return!1;if(1===o.length)return!0;const r=(0,u.select)("divi/edit-post").getModulesByIds(o);return 1===(0,b.extractModuleTypes)(r,{"fullwidth-section":"section","specialty-section":"section"}).length},W=({fieldName:t,clipboardItemFieldName:e,fieldOptions:o,clipboardItemFieldOptions:r})=>!!t&&(!!e&&(t===e&&(0,l.isEqual)(o,r))),D=({clipboardItem:t,attrsMaps:e})=>{if((0,l.isObject)(t)&&"moduleFieldAttribute"===t.clipboardType){const o=(0,l.get)(t,["payload"]),r=(0,l.get)(o,["attrName"]),i=(0,l.get)(o,["subName"]),a=(0,l.get)(o,["groupName"]),n=i?r.split(".").concat([i]):[r],s=(0,l.has)(e,["attrs"].concat(n)),d=!(0,l.isEmpty)((0,l.get)(e,["attrsGroupNameMap",a,i]));return s||d}return!1},R=t=>{const{modalName:e,modalTab:o,groupId:r,groupName:i,clipboardItem:a}=t;if((0,l.isObject)(a)&&"moduleGroupAttributes"===a.clipboardType){const{payload:t}=a,n=e===t.modalName,s=o===t.modalTab,l=r===t.groupId,d=i===(t.groupName||t.groupId),p=n&&d;return n&&s&&l||p}return!1};var x=window.jQuery,B=o.n(x);const $=t=>{const e=document.querySelector(`[data-id="${t}"]`).getBoundingClientRect().top,o=B()(window).width();let r=0;B()("body").hasClass("et_non_fixed_nav")&&o>980&&(r=parseFloat(B()("#page-container").css("padding-top"))),window.scrollBy({top:e-r,behavior:"auto"})},H=({sourceAttr:t,targetModuleId:e,targetAttrName:o,targetSubName:r,targetGroupName:i,targetAttr:a,targetAttrsMaps:n})=>{const s=E({attrName:o,subName:r,groupName:i,attrsMaps:n});T({sourceAttr:t,targetModuleId:e,targetAttrName:s,targetSubName:r,targetAttr:a})},z=({sourceAttrs:t,sourceAttrsGroupNameMap:e,targetAttrsMap:o,targetAttrsGroupNameMap:r,targetAttrs:i,targetModuleId:a})=>{const n=(0,v.mapAttrsIntoMatchingGroupNameAttrs)({sourceAttrs:t,sourceAttrsGroupNameMap:e,targetAttrsGroupNameMap:r}),s=(0,v.mergeAttrsIntoAttrs)({sourceAttrsMap:o,sourceAttrs:n,targetAttrsMap:o,targetAttrs:i});(0,u.dispatch)("divi/edit-post").replaceModuleAttributes(a,s),(0,u.dispatch)("divi/right-click-options").unset()},U=({moduleId:t})=>{(0,v.pasteModuleFromClipboard)(t),(0,u.dispatch)("divi/right-click-options").unset()},V=({owner:t,saveToDiviCloud:e="off"})=>{const{cursorPosition:o}=(0,u.select)("divi/right-click-options").getState();(0,u.dispatch)("divi/modal-library").open({name:"divi/add-to-library",owner:t,offset:{top:o.y,left:Math.max(0,o.x-200)},attributes:{saveToDiviCloud:e}}),(0,u.dispatch)("divi/right-click-options").unset()},q=t=>{(0,u.dispatch)("divi/edit-post").removeModule(t),(0,u.dispatch)("divi/right-click-options").unset()},Y=t=>{t.preventDefault(),t.stopPropagation(),(0,u.dispatch)("divi/right-click-options").unset()};var X=window.divi.keyboardShortcuts;const J=[{name:"closeRightClickOptions",label:(0,d.__)("Close Right Click Options","et_builder"),keys:["Escape"],category:"page",action:()=>{(0,u.dispatch)("divi/right-click-options").unset()}},{name:"selectNextOption",label:(0,d.__)("Select Next Option","et_builder"),keys:["ArrowDown"],category:"page",action:()=>{(0,u.dispatch)("divi/right-click-options").selectNext()}},{name:"selectPrevOption",label:(0,d.__)("Select Previous Option","et_builder"),keys:["ArrowUp"],category:"page",action:()=>{(0,u.dispatch)("divi/right-click-options").selectPrev()}},{name:"selectParentOption",label:(0,d.__)("Select Parent Option","et_builder"),keys:["ArrowLeft"],category:"page",action:()=>{(0,u.dispatch)("divi/right-click-options").selectParent()}},{name:"selectChildOption",label:(0,d.__)("Select Child Option","et_builder"),keys:["ArrowRight"],category:"page",action:()=>{(0,u.dispatch)("divi/right-click-options").selectChild()}},{name:"executeSelectedOption",label:(0,d.__)("Execute Selected Option","et_builder"),keys:["Enter"],category:"page",action:()=>{const t=(0,u.select)("divi/right-click-options").getState(),{selected:e,parent:o}=t,r=(0,l.get)(t,P(o.asMutable(),e));(0,l.isFunction)(r)&&r()}}],K=()=>(0,X.registerShortcuts)(J),Q=(t,e)=>{(0,u.dispatch)("divi/right-click-options").setSelected({parent:t,selected:e})},Z=()=>(0,X.unregisterShortcuts)(J.map((t=>t.name))),tt=()=>{const{adminBarHeight:t,appActiveView:e,appWindowWidth:o,builderBarWidth:r,pageBarHeight:a,rightClickOptionsState:n,sidebarLeftWidth:s,sidebarRightWidth:d,topWindowHeight:p,topWindowWidth:m,view:b,zoomScale:h,isUserDefinedAppWindowWidth:f,isDesktopBreakpoint:y}=(0,u.useSelect)((t=>{const e=t("divi/app-ui").getView();return{appActiveView:e,view:t("divi/app-ui").getViewItem(e),appWindowWidth:t("divi/app-ui").getWindow("width","app",0),rightClickOptionsState:t("divi/right-click-options").getState(),topWindowHeight:t("divi/app-ui").getWindow("height","top",0),topWindowWidth:t("divi/app-ui").getWindow("width","top",0),adminBarHeight:t("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"}),builderBarWidth:t("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),pageBarHeight:t("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),sidebarLeftWidth:t("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),sidebarRightWidth:t("divi/app-ui").getElementProperty({elementName:"sidebarRight",propertyGroup:"dimension",propertyName:"width"}),zoomScale:t("divi/app-ui").getAppFrameZoom({format:"decimal"}),isUserDefinedAppWindowWidth:t("divi/app-ui").isUserDefinedWindowProperty({attr:"width",windowLocation:"app"}),isDesktopBreakpoint:t("divi/app-ui").isViewBreakpoint("desktop")}})),{cursorPosition:v,options:M,optionType:w,owner:A,windowLocation:C,parent:I,selected:_}=n,k="app"===C,N=(0,l.includes)(["tablet","phone"],e),O=k&&N?170:0,T="fieldsNode"in A?A.fieldsNode:null,S={adminBarHeight:t,builderBarWidth:r,pageBarHeight:a,sidebarLeftWidth:s,cursorPosition:v,fieldsNode:T,options:M.asMutable({deep:!0}),windowHeight:p,windowWidth:m,appWindowOffset:{top:O,left:"100vw"===b.width?0:(0,g.getAppFrameMarginSides)({builderBarWidth:r,appWindowWidth:o,sidebarLeftWidth:s,sidebarRightWidth:d,topWindowWidth:m,isDesktopBreakpoint:y,zoomScale:h,isUserDefinedAppWindowWidth:f})},selected:_,selectedParent:I.asMutable(),onMount:K,onUnmount:Z,onOptionMouseEnter:Q,onOptionsContextMenu:Y,onOverlayClick:Y,onOverlayContextMenu:Y,optionType:w,windowLocation:C,zoomScale:h};return(0,i.createElement)(c,S)};let et=t=>crypto.getRandomValues(new Uint8Array(t)),ot=(t,e=21)=>((t,e,o)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(a=e)=>{let n="";for(;;){let e=o(i),s=i;for(;s--;)if(n+=t[e[s]&r]||"",n.length===a)return n}}})(t,e,et);var rt=window.vendor.wp.hooks;const it="divi.rightClickOptions.colorPickerOptions",at=t=>{if(!(0,l.isObject)(t)){const e=[];return(0,rt.applyFilters)(it,e,t)}const{color:e,colorId:o,colorPalette:r,targetClassList:i}=t.colorPickerAttrs,{onConvertToPaletteColor:a,onDeletePaletteColor:n,onEditPaletteColor:s,onDetachCurrentColorFromPalette:p,onReplacePaletteColor:c}=t.colorPickerAttrs.actions,g=[];return!i.includes("et-vb-colorpicker-manager__swatches-swatch-overlay-global")||"global"!==r||(0,l.isEmpty)(o)||(0,l.isEmpty)(e)?i.includes("et-vb-colorpicker-manager__swatches-swatch-overlay-saved")&&"saved"===r&&!(0,l.isEmpty)(e)?g.push({name:"make-global-color",label:(0,d.__)("Make Global Color","et_builder"),onClick:()=>{const t=`gcid-${ot("0123456789abcdefghijklmnopqrstuvwxyz",10)()}`;(0,u.dispatch)("divi/global-data").addGlobalColor({color:e,id:t});const o=(0,u.select)("divi/global-data").getRenderableValue(t,e);i.includes("et-vb-colorpicker-manager__current-color-overlay")&&a(o),(0,u.dispatch)("divi/right-click-options").unset()}}):i.includes("et-vb-colorpicker-manager__current-color-overlay-css-variable")?g.push({name:"detach-from-global",label:(0,d.__)("Detach From Global","et_builder"),onClick:()=>{const t=(0,u.select)("divi/global-data").getGlobalColorBasedOnCssVariable(e)?.color;(0,l.isEmpty)(t)||p(t),(0,u.dispatch)("divi/right-click-options").unset()}}):i.includes("et-vb-colorpicker-manager__current-color-overlay")&&!(0,l.isEmpty)(e)&&g.push({name:"convert-to-global",label:(0,d.__)("Convert To Global","et_builder"),onClick:()=>{const t=`gcid-${ot("0123456789abcdefghijklmnopqrstuvwxyz",10)()}`;(0,u.dispatch)("divi/global-data").addGlobalColor({color:e,id:t});const o=(0,u.select)("divi/global-data").getRenderableValue(t,e);a(o),(0,u.dispatch)("divi/right-click-options").unset()}}):(g.push({name:"edit-global-color",label:(0,d.__)("Edit Global Color","et_builder"),onClick:()=>{s(o,e),(0,u.dispatch)("divi/right-click-options").unset()}}),(0,u.select)("divi/global-data").isGlobalColorRemovable(o)&&(g.push({name:"replace-global-color",label:(0,d.__)("Replace Global Color","et_builder"),onClick:()=>{c(o,e),(0,u.dispatch)("divi/right-click-options").unset()}}),g.push({name:"delete-global-color",label:(0,d.__)("Delete Global Color","et_builder"),onClick:()=>{n({colorId:o}),(0,u.dispatch)("divi/right-click-options").unset()}}))),(0,rt.applyFilters)(it,g,t)},nt="divi.rightClickOptions.gradientStopOptions",st=t=>{if(!(0,l.isObject)(t)){const e=[];return(0,rt.applyFilters)(nt,e,t)}const{removeStop:e}=t,o=[];return o.push({name:"delete-gradient-stop",label:(0,d.__)("Delete Gradient","et_builder"),onClick:()=>{e(),(0,u.dispatch)("divi/right-click-options").unset()}}),(0,rt.applyFilters)(nt,o,t)};var lt=o(33042),dt=o.n(lt);const pt=t=>{const e=t.id,o=[],r=S(e);o.push({name:"draggable-list-item-copy",label:(0,d.__)("Copy Item Styles","et_builder"),onClick:()=>w({moduleId:e,moduleLabel:r.name,attrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","style"]),attrs:(0,v.extractAttrsByGroupAttrsMap)({attrs:(0,u.select)("divi/edit-post").getModuleAttrs(e).asMutable({deep:!0}),attrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","style"])})})});return"moduleAttributes"===(0,l.get)(t,["clipboardItemStyle","clipboardType"])&&o.push({name:"paste-module-style-to-module",label:(0,d.__)("Paste Item Style","et_builder"),onClick:()=>{const o=(0,l.get)(t,["clipboardItemStyle"]),r=(0,l.get)(t,["attrsMaps","attrsCategoryMap","style"]),i=o?.payload;O({sourceAttrsMap:"attrsMap"in i?i.attrsMap:{},sourceAttrs:"attrs"in i?i.attrs:dt()({}),targetModuleId:e,targetAttrsMap:r,targetAttrs:(0,u.select)("divi/edit-post").getModuleAttrs(e)})}}),(0,rt.applyFilters)("divi.rightClickOptions.draggableListOptions",o,t)},ct="divi.rightClickOptions.modalFieldOptions",ut=(t,e)=>{if(!(0,l.isObject)(t)){const e=[];return(0,rt.applyFilters)(ct,e,t)}const{modalName:o,fieldLabel:r,fieldName:i,fieldOptions:a,attrName:n,subName:s,id:p}=t,c=t.clipboardItem,g=[];if("divi/module"===o){const o=(0,l.get)(c,["payload","fieldName"]),m=(0,l.get)(c,["payload","fieldOptions"]);e&&(0,l.includes)(e,"copy")||g.push({name:"copy-field",label:(0,d.sprintf)((0,d.__)("Copy %1$s","et_builder"),r),onClick:()=>h({attrName:t.attrName,subName:t.subName,moduleId:t.id,modalName:t.modalName,fieldName:t.fieldName,fieldOptions:t.fieldOptions,fieldLabel:t.fieldLabel,groupName:t.groupName,moduleObject:(0,u.select)("divi/edit-post").getModule(t.id)})}),W({fieldName:i,clipboardItemFieldName:o,fieldOptions:a,clipboardItemFieldOptions:m})&&g.push({name:"paste-field-to-field",label:(0,d.sprintf)((0,d.__)("Paste %1$s","et_builder"),(0,l.get)(c,["payload","fieldLabel"])),onClick:()=>T({sourceAttr:(0,l.get)(c,["payload","fieldAttr"]),targetModuleId:p,targetAttrName:n,targetSubName:s,targetAttr:(0,u.select)("divi/edit-post").getModuleAttr(p,n)})})}return(0,rt.applyFilters)(ct,g,t)},gt="divi.rightClickOptions.modalGroupOptions",mt=t=>{if(!(0,l.isObject)(t)){const e=[];return(0,rt.applyFilters)(gt,e,t)}const{modalName:e,modalTab:o,modalGroupLabel:r,moduleId:i,attrsMaps:a}=t,n=[];if("divi/module"===e){const e="content"===o?r:(0,d.sprintf)((0,d.__)("%1$s Styles","et_builder"),r);if(n.push({name:"copy-group",label:(0,d.sprintf)((0,d.__)("Copy %1$s","et_builder"),e),onClick:()=>f({origin:t.id,moduleId:t.moduleId,modalName:t.modalName,modalTab:t.modalTab,groupId:t.groupId,groupLabel:r,groupName:t.groupName,attrsGroupNameMap:(0,l.get)(t,["attrsMaps","attrsGroupNameMap"]),attrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"]),attrs:(0,v.extractAttrsByGroupAttrsMap)({attrs:(0,u.select)("divi/edit-post").getModuleAttrs(t.moduleId).asMutable({deep:!0}),attrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"])})})}),(0,l.isObject)(t.clipboardItem))if("moduleGroupAttributes"===t.clipboardItem.clipboardType){const{clipboardItem:e}=t,o=(0,l.get)(e,["payload","groupLabel"]),r=(0,l.get)(e,["payload","attrsGroupNameMap"]).asMutable({deep:!0}),a=(0,l.get)(t,["attrsMaps","attrsGroupNameMap"]);R(t)?n.push({name:"paste-group-to-group",label:(0,d.sprintf)((0,d.__)("Paste %1$s","et_builder"),o),onClick:()=>O({sourceAttrsMap:(0,l.get)(e,["payload","attrsMap"]),sourceAttrs:(0,l.get)(e,["payload","attrs"]),targetModuleId:i,targetAttrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"]),targetAttrs:(0,u.select)("divi/edit-post").getModuleAttrs(i)})}):(0,v.hasOverlappingGroupNames)(r,a)&&n.push({name:"paste-group-to-nested-group",label:(0,d.sprintf)((0,d.__)("Paste %1$s","et_builder"),o),onClick:()=>z({sourceAttrsGroupNameMap:r,sourceAttrs:(0,l.get)(e,["payload","attrs"]),targetAttrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"]),targetAttrsGroupNameMap:a,targetAttrs:(0,u.select)("divi/edit-post").getModuleAttrs(i),targetModuleId:i})})}else if("moduleGroupTabAttributes"===t.clipboardItem.clipboardType){const{clipboardItem:e}=t,o=(0,d.sprintf)((0,d.__)("%1$s Styles","et_builder"),(0,l.get)(e,["payload","groupTabLabel"])),r=(0,l.get)(e,["payload","attrsMap"]),a=(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"]);(0,v.hasOverlappingAttrNames)(r,a)&&n.push({name:"paste-group-tab-to-group",label:(0,d.sprintf)((0,d.__)("Paste %1$s","et_builder"),o),onClick:()=>O({sourceAttrsMap:r,sourceAttrs:(0,l.get)(e,["payload","attrs"]),targetModuleId:i,targetAttrsMap:a,targetAttrs:(0,u.select)("divi/edit-post").getModuleAttrs(i)})})}else if("moduleFieldAttribute"===t.clipboardItem.clipboardType){const{clipboardItem:e}=t,o=(0,l.get)(e,["payload"]);D({clipboardItem:e,attrsMaps:t.attrsMaps})&&n.push({name:"paste-field-to-group",label:(0,d.sprintf)((0,d.__)("Paste %1$s","et_builder"),(0,l.get)(o,["fieldLabel"])),onClick:()=>H({targetModuleId:i,targetAttrName:(0,l.get)(o,["attrName"]),targetSubName:(0,l.get)(o,["subName"]),targetGroupName:(0,l.get)(o,["groupName"]),targetAttr:(0,u.select)("divi/edit-post").getModuleAttr(i,(0,l.get)(o,["attrName"])),targetAttrsMaps:a,sourceAttr:(0,l.get)(o,["fieldAttr"])})})}}return(0,rt.applyFilters)(gt,n,t)},bt="divi.rightClickOptions.modalGroupTabOptions",ht=t=>{if(!(0,l.isObject)(t)){const e=[];return(0,rt.applyFilters)(bt,e,t)}const{modalName:e,groupTabLabel:o}=t,r=[];if("divi/module"===e&&(r.push({name:"copy-modal-group-tab",label:(0,d.sprintf)((0,d.__)("Copy %1$s","et_builder"),o),onClick:()=>y({origin:t.groupId,moduleId:t.moduleId,modalName:t.modalName,groupId:t.groupId,groupTabLabel:t.groupTabName,groupTabName:t.groupTabName,attrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"]),attrsGroupNameMap:(0,l.get)(t,["attrsMaps","attrsGroupNameMap"]),attrs:(0,v.extractAttrsByGroupAttrsMap)({attrs:(0,u.select)("divi/edit-post").getModuleAttrs(t.moduleId).asMutable({deep:!0}),attrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"])})})}),(0,l.isObject)(t.clipboardItem)))if("moduleFieldAttribute"===t.clipboardItem.clipboardType){const{clipboardItem:e,moduleId:o}=t,i=(0,l.get)(e,["payload"]);D({clipboardItem:e,attrsMaps:t.attrsMaps})&&r.push({name:"paste-field-to-group",label:(0,d.sprintf)((0,d.__)("Paste %1$s","et_builder"),(0,l.get)(i,["fieldLabel"])),onClick:()=>H({sourceAttr:(0,l.get)(i,["fieldAttr"]),targetModuleId:o,targetAttrName:(0,l.get)(i,["attrName"]),targetSubName:(0,l.get)(i,["subName"]),targetGroupName:(0,l.get)(i,["groupName"]),targetAttr:(0,u.select)("divi/edit-post").getModuleAttr(o,(0,l.get)(i,["attrName"])),targetAttrsMaps:t.attrsMaps})})}else if((0,l.includes)(["moduleGroupTabAttributes","moduleGroupAttributes"],t.clipboardItem.clipboardType)){const{clipboardItem:e,moduleId:o}=t,i="moduleGroupTabAttributes"===t.clipboardItem.clipboardType?(0,l.get)(e,["payload","groupTabLabel"]):(0,l.get)(e,["payload","groupLabel"]),a=(0,l.get)(e,["payload","attrsGroupNameMap"]).asMutable({deep:!0}),n=(0,l.get)(t,["attrsMaps","attrsGroupNameMap"]);(0,v.hasOverlappingGroupNames)(a,n)&&r.push({name:"paste-group-tab-to-group-tab",label:(0,d.sprintf)((0,d.__)("Paste %1$s","et_builder"),i),onClick:()=>z({sourceAttrsGroupNameMap:a,sourceAttrs:(0,l.get)(e,["payload","attrs"]),targetAttrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"]),targetAttrsGroupNameMap:n,targetAttrs:(0,u.select)("divi/edit-post").getModuleAttrs(o),targetModuleId:o})})}return(0,rt.applyFilters)(bt,r,t)},ft="divi.rightClickOptions.modalTabOptions",yt=t=>{if(!(0,l.isObject)(t)){const e=[];return(0,rt.applyFilters)(ft,e,t)}const{modalName:e}=t;return(0,rt.applyFilters)(ft,[],t)},vt="divi.rightClickOptions.moduleOptions",Mt=t=>{if(!(0,l.isObject)(t)){const e=[];return(0,rt.applyFilters)(vt,e,t)}const e=(0,u.select)("divi/settings").checkRolePermission("edit_global_library"),o=(0,u.select)("divi/settings").checkRolePermission("divi_library")&&(0,u.select)("divi/settings").checkRolePermission("save_library"),{selectedModuleIds:r,clipboardItem:i}=t,a=t.id,n=t?.modalName,s=t?.moduleType,p=(0,u.select)("divi/settings").getSetting(["themeBuilder","layout"]),c=(0,u.select)("divi/edit-post").getModule(a),g=c?.name,b=(0,u.select)("divi/module-library").getModule(g)?.appearance,h=(0,u.select)("divi/module").getModuleCount(),f=(0,u.select)("divi/modal-library").isLayersViewFilterActive(),y=(0,u.select)("divi/edit-post").getModule("root")?.children||[],A=(0,u.select)("divi/edit-post").isCloneable({moduleName:g,moduleAppearance:b,themeBuilderLayout:p,moduleCount:h}),C=A&&(0,u.select)("divi/app-ui").hasModulesPermission(s,"add"),I=(0,u.select)("divi/app-ui").hasModulesPermission(s,"delete"),T=["column","column-inner"].includes(s),P=S(a),E=(0,l.get)(i,"clipboardType"),W=(0,l.get)(i,["payload","moduleType"]),D="divi/layers"===n,R=[];R.push({name:"edit-module",label:(0,d.sprintf)((0,d.__)("Edit %1$s","et_builder"),P.name),onClick:()=>N(a,c.name)}),!T&&C&&R.push({name:"clone-module",label:(0,d.sprintf)((0,d.__)("Duplicate %1$s","et_builder"),P.name),onClick:()=>m(a,c.name)}),!T&&I&&R.push({name:"remove-module",label:(0,d.sprintf)((0,d.__)("Delete %1$s","et_builder"),P.name),onClick:()=>q(a)});const x=(0,u.select)("divi/edit-post").getModuleAttrs(a).asMutable({deep:!0}),B=(0,l.get)(x,"globalModule",""),z=(0,l.get)(x,"globalParent",""),Y=B||z;Y&&e&&R.push({name:"disable-global",label:(0,d.__)("Disable Global","et_builder"),onClick:()=>_({moduleId:a})});const X=j({moduleId:a,selectedModuleIds:r}),J=F({isCloneable:A,selectedModuleIds:X});if(!T&&J){const t=1<X.length?P.structures:P.structure;R.push({name:"copy-module",label:(0,d.sprintf)((0,d.__)("Copy %1$s","et_builder"),t),onClick:()=>M({moduleId:a})})}const K=G({ownerParentModuleType:(0,u.select)("divi/edit-post").getParentModuleType(a),ownerModuleType:(0,l.get)(t,"moduleType"),clipboardModuleType:W});if(i&&K&&(!Y||e)&&C){const t=i?.payload,e=L({clipboardType:E,moduleId:"moduleId"in t?t.moduleId:"",moduleIds:"moduleIds"in t?t.moduleIds?.asMutable({deep:!0}):[]});R.push({name:"paste-module",label:(0,d.sprintf)((0,d.__)("Paste %1$s","et_builder"),e),onClick:()=>U({moduleId:a})})}1===X.length&&R.push({name:"copy-module-style",label:(0,d.sprintf)((0,d.__)("Copy %1$s Style","et_builder"),P.structure),onClick:()=>w({moduleId:a,moduleLabel:P.name,attrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","style"]),attrs:(0,v.extractAttrsByGroupAttrsMap)({attrs:(0,u.select)("divi/edit-post").getModuleAttrs(a).asMutable({deep:!0}),attrsMap:(0,l.get)(t,["attrsMaps","attrsCategoryMap","style"])})})});const Q=(0,l.get)(t,["clipboardItemStyle","clipboardType"]);if("moduleFieldAttribute"===Q)R.push({name:"paste-field-to-module",label:(0,d.sprintf)((0,d.__)("Paste %1$s Style","et_builder"),(0,l.get)(t,["clipboardItemStyle","payload","fieldLabel"])),onClick:()=>{const e=(0,l.get)(t,["clipboardItemStyle"]),o=(0,l.get)(e,["payload","attrName"]);(0,l.forEach)(X,(r=>{const i=r===t.id?(0,l.get)(t,["attrsMaps"]):(0,v.getAttrsMaps)({attrsMapsType:"module",moduleName:(0,u.select)("divi/edit-post").getModuleName(r)});H({sourceAttr:(0,l.get)(e,["payload","fieldAttr"]),targetModuleId:r,targetAttrName:o,targetSubName:(0,l.get)(e,["payload","subName"]),targetGroupName:(0,l.get)(e,["payload","groupName"]),targetAttr:(0,u.select)("divi/edit-post").getModuleAttr(r,o),targetAttrsMaps:i})}))}});else if((0,l.includes)(["moduleGroupAttributes","moduleGroupTabAttributes"],Q)){const e="moduleGroupTabAttributes"===Q?(0,l.get)(t,["clipboardItemStyle","payload","groupTabLabel"]):(0,l.get)(t,["clipboardItemStyle","payload","groupLabel"]);R.push({name:"paste-group-to-module",label:(0,d.sprintf)((0,d.__)("Paste %1$s Style","et_builder"),e),onClick:()=>{const e=(0,l.get)(t,["clipboardItemStyle"]);(0,l.forEach)(X,(o=>{const r=t.id===o?(0,l.get)(t,["attrsMaps","attrsCategoryMap","all"]):(0,l.get)((0,v.getAttrsMaps)({attrsMapsType:"module",moduleName:(0,u.select)("divi/edit-post").getModuleName(o)}),["attrsCategoryMap","all"]);O({sourceAttrsMap:(0,l.get)(e,["payload","attrsMap"]),sourceAttrs:(0,l.get)(e,["payload","attrs"]),targetModuleId:o,targetAttrsMap:r,targetAttrs:(0,u.select)("divi/edit-post").getModuleAttrs(o)})}))}})}else"moduleAttributes"===Q&&R.push({name:"paste-module-style-to-module",label:(0,d.sprintf)((0,d.__)("Paste %1$s Style","et_builder"),(0,l.get)(t,["clipboardItemStyle","payload","moduleLabel"])),onClick:()=>{const e=(0,l.get)(t,["clipboardItemStyle"])?.payload;(0,l.forEach)(X,(o=>{const r=t.id===o?(0,l.get)(t,["attrsMaps","attrsCategoryMap","style"]):(0,l.get)((0,v.getAttrsMaps)({attrsMapsType:"module",moduleName:(0,u.select)("divi/edit-post").getModuleName(o)}),["attrsCategoryMap","style"]);O({sourceAttrsMap:"attrsMap"in e?e.attrsMap:{},sourceAttrs:"attrs"in e?e.attrs:dt()({}),targetModuleId:o,targetAttrsMap:r,targetAttrs:(0,u.select)("divi/edit-post").getModuleAttrs(o)})}))}});return o&&(R.push({name:"save-to-library",label:(0,d.__)("Save To Library","et_builder"),onClick:()=>V({owner:a}),topSeparator:!0}),R.push({name:"save-to-cloud",label:(0,d.__)("Save To Divi Cloud","et_builder"),onClick:()=>V({owner:a,saveToDiviCloud:"on"})})),("divi/layers"!==n||f&&D)&&R.push({name:"go-to-layer",label:(0,d.__)("Go To Layer","et_builder"),onClick:()=>{(0,u.dispatch)("divi/modal-library").open({name:"divi/layers"}),(0,u.dispatch)("divi/right-click-options").unset(),f&&D&&(0,u.dispatch)("divi/modal-library").setLayersViewFilter({filterKeyword:"",isFilterActive:!1,moduleIds:y}),k(a),(0,u.dispatch)("divi/modal-library").setLayersViewActiveModuleId(a),$(a),(0,u.dispatch)("divi/modal-library").open({owner:a,name:"divi/module"})}}),(0,rt.applyFilters)(vt,R,t)},wt={modalField:ut,modalGroup:mt,modalGroupTab:ht,modalTab:yt,modalHeader:Mt,module:Mt,modalDraggableChildModuleList:pt,colorPicker:at,gradientStop:st,sidebarRowNav:t=>{const e="navItem"===t.trigger,o=[{name:"close-tab",label:e?(0,d.__)("Close Tab","et_builder"):(0,d.__)("Close Active Tab","et_builder"),onClick:()=>{(0,u.dispatch)("divi/modal-library").close({name:t.modalName}),(0,u.dispatch)("divi/right-click-options").unset()}},{name:"close-tab-group",label:(0,d.__)("Close Tab Group","et_builder"),onClick:()=>{(0,u.select)("divi/app-ui").getSidebarRow(t.id)?.modalIds?.forEach((t=>{(0,u.dispatch)("divi/modal-library").close({name:t})})),(0,u.dispatch)("divi/right-click-options").unset()}},{name:"undock-tab",label:e?(0,d.__)("Undock Tab","et_builder"):(0,d.__)("Undock Active Tab","et_builder"),onClick:()=>{(0,u.dispatch)("divi/app-ui").undockModalFromSidebarRow({modalName:t?.modalName,sidebarRowId:t?.id}),(0,u.dispatch)("divi/right-click-options").unset()}}];return(0,rt.applyFilters)("divi.rightClickOptions.sidebarRowNavOptions",o,t)}},At=(t,e)=>{const o=(0,rt.applyFilters)("divi.rightClickOptions.optionsMap",wt),r=(0,l.get)(o,t);return(0,l.isFunction)(r)?r(e):[]},Ct=()=>({type:"SELECT_CHILD"}),It=()=>({type:"SELECT_NEXT"}),_t=()=>({type:"SELECT_PARENT"}),kt=()=>({type:"SELECT_PREV"}),Nt=({cursorPosition:t,windowLocation:e,optionType:o,owner:r})=>({type:"SET",cursorPosition:t,options:At(o,r),optionType:o,owner:r,windowLocation:e}),Ot=({name:t,value:e})=>({type:"SET_OWNER_DATA",name:t,value:e}),Tt=({selected:t,parent:e})=>({type:"SET_SELECTED",parent:e,selected:t}),St=()=>({type:"UNSET"}),Pt=(t,e)=>{switch(e.type){case"SET":return t.setIn(["active"],!0).setIn(["cursorPosition"],e.cursorPosition).setIn(["options"],e.options).setIn(["length"],e.options.length).setIn(["optionType"],e.optionType).setIn(["selected"],-1).setIn(["owner"],e.owner).setIn(["windowLocation"],e.windowLocation);case"SET_OWNER_DATA":return t.setIn(["owner",e.name],e.value);case"SELECT_PREV":{const e=t.selected<1?t.selected:t.selected-1;return t.setIn(["selected"],e)}case"SELECT_NEXT":{const e=t.selected>=t.length-1?t.selected:t.selected+1;return t.setIn(["selected"],e)}case"SELECT_PARENT":{if(1>=t.getIn(["parent"]).length)return t;const e=t.getIn(["parent"]).asMutable(),o=e[e.length-1],r=[].concat(e).splice(0,e.length-1),i=()=>{if((0,l.isEqual)([0],r))return t.getIn(["options"]).length;const e=[].concat(r).splice(1).join("-children-").split("-"),o=["options"].concat(e).concat(["children"]);return(t.getIn(o)||[]).length};return t.setIn(["parent"],r).setIn(["selected"],o).setIn(["length"],i())}case"SELECT_CHILD":{const e=(()=>{if((0,l.isEqual)([0],t.parent))return[String(t.getIn(["selected"]))];return[].concat(t.getIn(["parent"]).asMutable()).splice(1).concat([t.getIn(["selected"])]).join("-children-").split("-")})(),o=(0,l.concat)(["options"],e,["children"]);if(!t.getIn(o))return t;const r=t.getIn(o)||[];return t.setIn(["parent"],(0,l.concat)(t.getIn(["parent"]).asMutable(),[t.getIn(["selected"])])).setIn(["selected"],0).setIn(["length"],r.length)}case"SET_SELECTED":{const o=()=>{if((0,l.isEqual)(t.getIn(["parent"]).asMutable(),e.parent))return t.getIn(["length"]);if((0,l.isEqual)([0],e.parent))return t.getIn(["options"]).length;const o=[].concat(e.parent).splice(1).join("-children-").split("-"),r=["options"].concat(o).concat(["children"]);return(t.getIn(r)||[]).length};return t.setIn(["parent"],e.parent).setIn(["selected"],e.selected).setIn(["length"],o())}case"UNSET":return t.setIn(["active"],!1).setIn(["cursorPosition"],{x:0,y:0}).setIn(["optionType"],"module").setIn(["parent"],[0]).setIn(["selected"],-1).setIn(["options"],[]).setIn(["length"],0).setIn(["owner"],{}).setIn(["windowLocation"],"app");default:return t}},Et=t=>t.getIn(["active"]),Lt=t=>t;function Gt(t,e="expected a function, instead received "+typeof t){if("function"!=typeof t)throw new TypeError(e)}var jt=t=>Array.isArray(t)?t:[t];function Ft(t){const e=Array.isArray(t[0])?t[0]:t;return function(t,e="expected all items to be functions, instead received the following types: "){if(!t.every((t=>"function"==typeof t))){const o=t.map((t=>"function"==typeof t?`function ${t.name||"unnamed"}()`:typeof t)).join(", ");throw new TypeError(`${e}[${o}]`)}}(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Wt(t,e){const o=[],{length:r}=t;for(let i=0;i<r;i++)o.push(t[i].apply(null,e));return o}Symbol(),Object.getPrototypeOf({});var Dt="undefined"!=typeof WeakRef?WeakRef:class{constructor(t){this.value=t}deref(){return this.value}};function Rt(t,e={}){let o={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=e;let i,a=0;function n(){let e=o;const{length:n}=arguments;for(let t=0,o=n;t<o;t++){const o=arguments[t];if("function"==typeof o||"object"==typeof o&&null!==o){let t=e.o;null===t&&(e.o=t=new WeakMap);const r=t.get(o);void 0===r?(e={s:0,v:void 0,o:null,p:null},t.set(o,e)):e=r}else{let t=e.p;null===t&&(e.p=t=new Map);const r=t.get(o);void 0===r?(e={s:0,v:void 0,o:null,p:null},t.set(o,e)):e=r}}const s=e;let l;if(1===e.s?l=e.v:(l=t.apply(null,arguments),a++),s.s=1,r){const t=i?.deref?.()??i;null!=t&&r(t,l)&&(l=t,0!==a&&a--);i="object"==typeof l&&null!==l||"function"==typeof l?new Dt(l):l}return s.v=l,l}return n.clearCache=()=>{o={s:0,v:void 0,o:null,p:null},n.resetResultsCount()},n.resultsCount=()=>a,n.resetResultsCount=()=>{a=0},n}function xt(t,...e){const o="function"==typeof t?{memoize:t,memoizeOptions:e}:t,r=(...t)=>{let e,r=0,i=0,a={},n=t.pop();"object"==typeof n&&(a=n,n=t.pop()),Gt(n,`createSelector expects an output function after the inputs, but received: [${typeof n}]`);const s={...o,...a},{memoize:l,memoizeOptions:d=[],argsMemoize:p=Rt,argsMemoizeOptions:c=[],devModeChecks:u={}}=s,g=jt(d),m=jt(c),b=Ft(t),h=l((function(){return r++,n.apply(null,arguments)}),...g);const f=p((function(){i++;const t=Wt(b,arguments);return e=h.apply(null,t),e}),...m);return Object.assign(f,{resultFunc:n,memoizedResultFunc:h,dependencies:b,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>e,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var Bt=xt(Rt),$t=Object.assign(((t,e=Bt)=>{!function(t,e="expected an object, instead received "+typeof t){if("object"!=typeof t)throw new TypeError(e)}(t,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);const o=Object.keys(t);return e(o.map((e=>t[e])),((...t)=>t.reduce(((t,e,r)=>(t[o[r]]=e,t)),{})))}),{withTypes:()=>$t});const Ht=Bt([t=>t?.getIn(["owner","id"],""),(t,e)=>e],((t,e)=>!!t&&t===e)),zt=dt()({active:!1,cursorPosition:{x:0,y:0},windowLocation:"app",options:[],optionType:"module",parent:[0],selected:-1,length:0,owner:null}),Ut=()=>{(0,u.select)("divi/right-click-options")||(0,u.registerStore)("divi/right-click-options",{actions:t,reducer:Pt,selectors:e,initialState:zt})}}(),(window.divi=window.divi||{}).rightClickOptions=r}();