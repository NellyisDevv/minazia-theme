!function(){var t={33042:function(t,e,r){var n;!function(){"use strict";var o=function t(e){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o={use_static:!1};function s(t){var e=Object.getPrototypeOf(t);return e?Object.create(e):{}}function a(t,e,r){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!1,value:r})}function i(t,e){a(t,e,(function(){throw new h("The "+e+" method cannot be invoked on an Immutable data structure.")}))}"object"!=typeof(r=e)||Array.isArray(r)||null===r||void 0!==e.use_static&&(o.use_static=Boolean(e.use_static));var c="__immutable_invariants_hold";function p(t){return"object"!=typeof t||(null===t||Boolean(Object.getOwnPropertyDescriptor(t,c)))}function u(t,e){return t===e||t!=t&&e!=e}function l(t){return!(null===t||"object"!=typeof t||Array.isArray(t)||t instanceof Date)}var d=["setPrototypeOf"],f=d.concat(["push","pop","sort","splice","shift","unshift","reverse"]),m=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),y=d.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function h(t){this.name="MyError",this.message=t,this.stack=(new Error).stack}function g(t,e){for(var r in a(t,c,!0),e)e.hasOwnProperty(r)&&i(t,e[r]);return Object.freeze(t),t}function v(t,e){var r=t[e];a(t,e,(function(){return W(r.apply(t,arguments))}))}function M(t,e,r){var n=r&&r.deep;if(t in this&&(n&&this[t]!==e&&l(e)&&l(this[t])&&(e=W.merge(this[t],e,{deep:!0,mode:"replace"})),u(this[t],e)))return this;var o=O.call(this);return o[t]=W(e),I(o)}h.prototype=new Error,h.prototype.constructor=Error;var b=W([]);function A(t,e,r){var n=t[0];if(1===t.length)return M.call(this,n,e,r);var o,s=t.slice(1),a=this[n];if("object"==typeof a&&null!==a)o=W.setIn(a,s,e);else{var i=s[0];o=""!==i&&isFinite(i)?A.call(b,s,e):G.call(R,s,e)}if(n in this&&a===o)return this;var c=O.call(this);return c[n]=o,I(c)}function I(t){for(var e in m){if(m.hasOwnProperty(e))v(t,m[e])}o.use_static||(a(t,"flatMap",T),a(t,"asObject",E),a(t,"asMutable",O),a(t,"set",M),a(t,"setIn",A),a(t,"update",x),a(t,"updateIn",U),a(t,"getIn",z));for(var r=0,n=t.length;r<n;r++)t[r]=W(t[r]);return g(t,f)}function w(){return new Date(this.getTime())}function T(t){if(0===arguments.length)return this;var e,r=[],n=this.length;for(e=0;e<n;e++){var o=t(this[e],e,this);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return I(r)}function C(t){if(void 0===t&&0===arguments.length)return this;if("function"!=typeof t){var e=Array.isArray(t)?t.slice():Array.prototype.slice.call(arguments);e.forEach((function(t,e,r){"number"==typeof t&&(r[e]=t.toString())})),t=function(t,r){return-1!==e.indexOf(r)}}var r=s(this);for(var n in this)this.hasOwnProperty(n)&&!1===t(this[n],n)&&(r[n]=this[n]);return L(r)}function O(t){var e,r,n=[];if(t&&t.deep)for(e=0,r=this.length;e<r;e++)n.push(S(this[e]));else for(e=0,r=this.length;e<r;e++)n.push(this[e]);return n}function E(t){"function"!=typeof t&&(t=function(t){return t});var e,r={},n=this.length;for(e=0;e<n;e++){var o=t(this[e],e,this),s=o[0],a=o[1];r[s]=a}return L(r)}function S(t){return!t||"object"!=typeof t||!Object.getOwnPropertyDescriptor(t,c)||t instanceof Date?t:W.asMutable(t,{deep:!0})}function P(t,e){for(var r in t)Object.getOwnPropertyDescriptor(t,r)&&(e[r]=t[r]);return e}function j(t,e){if(0===arguments.length)return this;if(null===t||"object"!=typeof t)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(t));var r,n,o=Array.isArray(t),a=e&&e.deep,i=e&&e.mode||"merge",c=e&&e.merger;function p(t,n,o){var i,p=W(n[o]),d=c&&c(t[o],p,e),f=t[o];void 0===r&&void 0===d&&t.hasOwnProperty(o)&&u(p,f)||(u(f,i=void 0!==d?d:a&&l(f)&&l(p)?W.merge(f,p,e):p)&&t.hasOwnProperty(o)||(void 0===r&&(r=P(t,s(t))),r[o]=i))}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(void 0===r&&(r=P(t,s(t))),delete r[n])}if(o)for(var f=0,m=t.length;f<m;f++){var y=t[f];for(n in y)y.hasOwnProperty(n)&&p(void 0!==r?r:this,y,n)}else{for(n in t)Object.getOwnPropertyDescriptor(t,n)&&p(this,t,n);"replace"===i&&d(this,t)}return void 0===r?this:L(r)}function N(t,e){var r=e&&e.deep;if(0===arguments.length)return this;if(null===t||"object"!=typeof t)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(t));return W.merge(this,t,{deep:r,mode:"replace"})}var _,k,D,R=W({});function G(t,e,r){if(!Array.isArray(t)||0===t.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=t[0];if(1===t.length)return $.call(this,n,e,r);var o,a=t.slice(1),i=this[n];if(o=this.hasOwnProperty(n)&&"object"==typeof i&&null!==i?W.setIn(i,a,e):G.call(R,a,e),this.hasOwnProperty(n)&&i===o)return this;var c=P(this,s(this));return c[n]=o,L(c)}function $(t,e,r){var n=r&&r.deep;if(this.hasOwnProperty(t)&&(n&&this[t]!==e&&l(e)&&l(this[t])&&(e=W.merge(this[t],e,{deep:!0,mode:"replace"})),u(this[t],e)))return this;var o=P(this,s(this));return o[t]=W(e),L(o)}function x(t,e){var r=Array.prototype.slice.call(arguments,2),n=this[t];return W.set(this,t,e.apply(n,[n].concat(r)))}function F(t,e){for(var r=0,n=e.length;null!=t&&r<n;r++)t=t[e[r]];return r&&r==n?t:void 0}function U(t,e){var r=Array.prototype.slice.call(arguments,2),n=F(this,t);return W.setIn(this,t,e.apply(n,[n].concat(r)))}function z(t,e){var r=F(this,t);return void 0===r?e:r}function V(t){var e,r=s(this);if(t&&t.deep)for(e in this)this.hasOwnProperty(e)&&(r[e]=S(this[e]));else for(e in this)this.hasOwnProperty(e)&&(r[e]=this[e]);return r}function B(){return{}}function L(t){return o.use_static||(a(t,"merge",j),a(t,"replace",N),a(t,"without",C),a(t,"asMutable",V),a(t,"set",$),a(t,"setIn",G),a(t,"update",x),a(t,"updateIn",U),a(t,"getIn",z)),g(t,d)}function W(t,e,r){if(p(t)||function(t){return"object"==typeof t&&null!==t&&(60103===t.$$typeof||t.$$typeof===n)}(t)||function(t){return"undefined"!=typeof File&&t instanceof File}(t)||function(t){return"undefined"!=typeof Blob&&t instanceof Blob}(t)||function(t){return t instanceof Error}(t))return t;if(function(t){return"object"==typeof t&&"function"==typeof t.then}(t))return t.then(W);if(Array.isArray(t))return I(t.slice());if(t instanceof Date)return s=new Date(t.getTime()),o.use_static||a(s,"asMutable",w),g(s,y);var s,i=e&&e.prototype,c=(i&&i!==Object.prototype?function(){return Object.create(i)}:B)();if(null==r&&(r=64),r<=0)throw new h("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var u in r-=1,t)Object.getOwnPropertyDescriptor(t,u)&&(c[u]=W(t[u],void 0,r));return L(c)}function H(t){return function(){var e=[].slice.call(arguments),r=e.shift();return t.apply(r,e)}}function Y(t,e){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?e.apply(n,r):t.apply(n,r)}}return W.from=W,W.isImmutable=p,W.ImmutableError=h,W.merge=H(j),W.replace=H(N),W.without=H(C),W.asMutable=(_=V,k=O,D=w,function(){var t=[].slice.call(arguments),e=t.shift();return Array.isArray(e)?k.apply(e,t):e instanceof Date?D.apply(e,t):_.apply(e,t)}),W.set=Y($,M),W.setIn=Y(G,A),W.update=H(x),W.updateIn=H(U),W.getIn=H(z),W.flatMap=H(T),W.asObject=H(E),o.use_static||(W.static=t({use_static:!0})),Object.freeze(W),W}();void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};!function(){"use strict";r.r(n),r.d(n,{ClipboardAttrsMapsParser:function(){return l},ClipboardAttrsMapsParserContainer:function(){return f},addComponentAttrsMaps:function(){return y},addItem:function(){return h},copyModuleToClipboard:function(){return $},effects:function(){return M},extractAttrsByGroupAttrsMap:function(){return x},getActiveComponentAttrsMaps:function(){return N},getAttrsMaps:function(){return U},getComponentAttrsMaps:function(){return _},getComponentAttrsMapsId:function(){return F},getFullAttrPath:function(){return z},getItems:function(){return k},getLastItem:function(){return D},hasOverlappingAttrNames:function(){return V},hasOverlappingGroupNames:function(){return B},insertSourceIntoTargetAttrs:function(){return L},mapAttrsIntoMatchingGroupNameAttrs:function(){return W},mergeAttrsIntoAttrs:function(){return q},mergeFieldAttrIntoResponsiveAttr:function(){return K},newAttribute:function(){return J},pasteModuleFromClipboard:function(){return Q},registerClipboardStore:function(){return R},resetState:function(){return g},resetTargetAttrsBasedOnOverlapppingAttrsMaps:function(){return Y},setComponentAttrsMapsValue:function(){return v},waitUntilAttrsMapsReady:function(){return X}});var t={};r.r(t),r.d(t,{addComponentAttrsMaps:function(){return y},addItem:function(){return h},resetState:function(){return g},setComponentAttrsMapsValue:function(){return v}});var e={};r.r(e),r.d(e,{getActiveComponentAttrsMaps:function(){return N},getComponentAttrsMaps:function(){return _},getItems:function(){return k},getLastItem:function(){return D}});var o=window.vendor.React,s=r.n(o),a=window.lodash,i=r(33042),c=r.n(i),p=window.divi.contextLibrary;let u=c()({});const l=t=>{const{attrsMapsType:e,attrsMapsCallback:r,children:n,id:i,setComponentAttrsMapsValue:c}=t;(0,o.useEffect)((()=>{c({id:i,attrsMaps:u.asMutable({deep:!0}),resetActiveComponent:!0}),(0,a.isFunction)(r)&&r(u.asMutable({deep:!0}))}),[]);const l={optionType:e,isParsingAttrsMaps:!0};return s().createElement(p.clipboardAttrsMapsParserContext.Provider,{value:l},s().createElement(p.fieldContext.Provider,{value:{onContainerComponentMount:t=>{const{attrName:e,subName:r,groupName:n,clipboardCategory:o}=t,s=e.split("."),i=["attrsStructureMap"].concat(s);if(e)if(r){const t=r.split(".");if(u=u.setIn(i.concat(t),""),u=u.setIn(["attrsCategoryMap","all",e,r],""),u=u.setIn(["attrsCategoryMap",o,e,r],""),n){const t=(0,a.get)(u,["attrsGroupNameMap",n,r]),o=t?t.length:0;u.getIn(["attrsGroupNameMap",n,r])||(u=u.setIn(["attrsGroupNameMap",n,r],[])),u=u.setIn(["attrsGroupNameMap",n,r,o],e)}}else u=u.setIn(i,""),u=u.setIn(["attrsCategoryMap","all",e],""),u=u.setIn(["attrsCategoryMap",o,e],"")},onContainerComponentUnMount:t=>{const{attrName:e,subName:r,groupName:n,clipboardCategory:o}=t;if(!e)return;const s=e.split("."),i=(0,a.head)(s),c=["attrsStructureMap"].concat(s);if(r){const t=r.split("."),s=(0,a.head)(t),i=u.getIn(c);if(i&&!(0,a.isFunction)(i)&&(u=u.setIn(c,i.without(s))),""===u.getIn(["attrsCategoryMap","all",e,r])){const t=u.getIn(["attrsCategoryMap","all",e]);u=u.setIn(["attrsCategoryMap","all",e],t.without(r)),u=u.setIn(["attrsCategoryMap",o,e],t.without(r))}n&&(u=u.setIn(["attrsGroupNameMap",n,r],(0,a.without)(u.getIn(["attrsGroupNameMap",n,r]).asMutable(),e)),(0,a.isEmpty)((0,a.get)(u,["attrsGroupNameMap",n,r]))&&(u=u.setIn(["attrsGroupNameMap",n],u.getIn(["attrsGroupNameMap",n]).without(r))),(0,a.isEmpty)((0,a.get)(u,["attrsGroupNameMap",n]))&&(u=u.setIn(["attrsGroupNameMap"],u.getIn(["attrsGroupNameMap"]).without(n))),(0,a.isEmpty)((0,a.get)(u,["attrsGroupNameMap"]))&&(u=u.without("attrsGroupNameMap")))}else u=u.setIn(["attrsStructureMap"],u.getIn(["attrsStructureMap",i])),""===u.getIn(["attrsCategoryMap","all",e])&&(u=u.setIn(["attrsCategoryMap","all"],u.getIn(["attrsCategoryMap","all"]).without(e)),u=u.setIn(["attrsCategoryMap","all"],u.getIn(["attrsCategoryMap",o]).without(e)));const p=[].concat(c);for(let t=0;t<c.length;t++){if(!(0,a.isEmpty)(p)&&(0,a.isEmpty)((0,a.get)(u,p))){(0,a.unset)(u,p);const t=(0,a.take)(p,p.length-1),e=(0,a.last)(p);if(u.getIn(t)){const r=u.getIn(t);u=u.setIn(t,r.without(e))}}p.splice(-1)}(0,a.isEmpty)(u.getIn(["attrsCategoryMap","all",e]))&&(u=u.setIn(["attrsCategoryMap","all"],u.getIn(["attrsCategoryMap","all"]).without(e)),u=u.setIn(["attrsCategoryMap",o],u.getIn(["attrsCategoryMap",o]).without(e)))},containerRenderer:()=>null}},s().createElement("div",{className:"et-vb-clipboard-attrs-maps-parser"},n)))};var d=window.divi.data;const f=()=>{const{id:t,attrsMapsType:e,children:r,attrsMapsCallback:n,setComponentAttrsMapsValue:s}=(0,d.useSelect)((t=>{const e=t("divi/clipboard").getActiveComponentAttrsMaps(),r=t("divi/clipboard").getComponentAttrsMaps(e);return{id:r?.id,attrsMapsType:r?.attrsMapsType,children:r?.component,attrsMapsCallback:r?.callback,setComponentAttrsMapsValue:(0,d.dispatch)("divi/clipboard").setComponentAttrsMapsValue}}));return(0,o.createElement)(l,{id:t,attrsMapsType:e,attrsMapsCallback:n,setComponentAttrsMapsValue:s},r)};var m=window.divi.middleware;const y=t=>({...t,type:"ADD_COMPONENT_ATTRS_MAPS"}),h=t=>({...t,type:"ADD_ITEM"}),g=()=>({type:"RESET_STATE"}),v=t=>({...t,type:"SET_COMPONENT_ATTRS_MAPS_VALUE"}),M={SET_COMPONENT_ATTRS_MAPS_VALUE:[t=>{const{attrsMaps:e}=t,r=(0,d.select)("divi/right-click-options").getState().asMutable({deep:!0}),{active:n}=r;if(n){const t=(0,a.pick)(r,["cursorPosition","optionType","owner","windowLocation"]);(0,a.set)(t,["owner","attrsMaps"],e),(0,d.dispatch)("divi/right-click-options").set(t)}}]},b=c()({items:[],componentAttrsMaps:{},componentAttrsMapsActive:""}),A=(t,e)=>{switch(e.type){case"ADD_ITEM":{const r=String((0,a.get)(t,["items","length"],0));return t.setIn(["items",r],{clipboardType:e.clipboardType,origin:e.origin,payload:e.payload})}case"ADD_COMPONENT_ATTRS_MAPS":{const{payload:r}=e,{id:n}=r;return t.setIn(["componentAttrsMaps",n],{id:n,...r}).setIn(["componentAttrsMapsActive"],n)}case"RESET_STATE":return b;case"SET_COMPONENT_ATTRS_MAPS_VALUE":return t=t.setIn(["componentAttrsMaps",e.id,"component"],null),e.resetActiveComponent&&(t=t.setIn(["componentAttrsMapsActive"],"")),t.setIn(["componentAttrsMaps",e.id,"attrsMaps"],e.attrsMaps);default:return t}};function I(t,e="expected a function, instead received "+typeof t){if("function"!=typeof t)throw new TypeError(e)}var w=t=>Array.isArray(t)?t:[t];function T(t){const e=Array.isArray(t[0])?t[0]:t;return function(t,e="expected all items to be functions, instead received the following types: "){if(!t.every((t=>"function"==typeof t))){const r=t.map((t=>"function"==typeof t?`function ${t.name||"unnamed"}()`:typeof t)).join(", ");throw new TypeError(`${e}[${r}]`)}}(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function C(t,e){const r=[],{length:n}=t;for(let o=0;o<n;o++)r.push(t[o].apply(null,e));return r}Symbol(),Object.getPrototypeOf({});var O="undefined"!=typeof WeakRef?WeakRef:class{constructor(t){this.value=t}deref(){return this.value}};function E(t,e={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=e;let o,s=0;function a(){let e=r;const{length:a}=arguments;for(let t=0,r=a;t<r;t++){const r=arguments[t];if("function"==typeof r||"object"==typeof r&&null!==r){let t=e.o;null===t&&(e.o=t=new WeakMap);const n=t.get(r);void 0===n?(e={s:0,v:void 0,o:null,p:null},t.set(r,e)):e=n}else{let t=e.p;null===t&&(e.p=t=new Map);const n=t.get(r);void 0===n?(e={s:0,v:void 0,o:null,p:null},t.set(r,e)):e=n}}const i=e;let c;if(1===e.s?c=e.v:(c=t.apply(null,arguments),s++),i.s=1,n){const t=o?.deref?.()??o;null!=t&&n(t,c)&&(c=t,0!==s&&s--);o="object"==typeof c&&null!==c||"function"==typeof c?new O(c):c}return i.v=c,c}return a.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function S(t,...e){const r="function"==typeof t?{memoize:t,memoizeOptions:e}:t,n=(...t)=>{let e,n=0,o=0,s={},a=t.pop();"object"==typeof a&&(s=a,a=t.pop()),I(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const i={...r,...s},{memoize:c,memoizeOptions:p=[],argsMemoize:u=E,argsMemoizeOptions:l=[],devModeChecks:d={}}=i,f=w(p),m=w(l),y=T(t),h=c((function(){return n++,a.apply(null,arguments)}),...f);const g=u((function(){o++;const t=C(y,arguments);return e=h.apply(null,t),e}),...m);return Object.assign(g,{resultFunc:a,memoizedResultFunc:h,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>e,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:c,argsMemoize:u})};return Object.assign(n,{withTypes:()=>n}),n}var P=S(E),j=Object.assign(((t,e=P)=>{!function(t,e="expected an object, instead received "+typeof t){if("object"!=typeof t)throw new TypeError(e)}(t,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);const r=Object.keys(t);return e(r.map((e=>t[e])),((...t)=>t.reduce(((t,e,n)=>(t[r[n]]=e,t)),{})))}),{withTypes:()=>j});const N=P([t=>t],(t=>t.getIn(["componentAttrsMapsActive"]))),_=P([t=>t,(t,e)=>e],((t,e)=>t.getIn(["componentAttrsMaps",e]))),k=t=>t.getIn(["items"]),D=P([t=>t,(t,e)=>e],((t,e="all")=>{const r=k(t);return"all"===e?(0,a.last)(r):(0,a.findLast)(r,(t=>(0,a.isArray)(e)?(0,a.includes)(e,t.clipboardType):t.clipboardType===e))})),R=()=>{if((0,d.select)("divi/clipboard"))return;const r=(0,d.registerStore)("divi/clipboard",{actions:t,reducer:A,selectors:e,initialState:b});(0,m.applyEffects)(r,M)};var G=window.divi.moduleUtils;const $=t=>{if(!t)return;const e=(0,d.select)("divi/events").getSelectedModules().asMutable({deep:!0}).map((t=>t.id)),r=(0,a.uniq)(e.concat(t)),n=(0,a.flatten)(r.map((t=>(0,d.select)("divi/edit-post").getModuleStructureIds(t)))),o=(0,d.select)("divi/edit-post").getModulesByIds(n);if(r.length>1){const e=(0,d.select)("divi/edit-post").getModulesByIds(r),n=(0,G.extractModuleTypes)(e,{"fullwidth-section":"section","specialty-section":"section"});1===n.length&&(0,d.dispatch)("divi/clipboard").addItem({origin:t,clipboardType:"modules",payload:{moduleType:n[0],moduleIds:r,moduleObjects:o}})}else{const e=(0,a.get)(o,[t,"props","attrs"])?(0,a.get)(o,[t,"props","attrs"]).asMutable({deep:!0}):{};(0,d.dispatch)("divi/clipboard").addItem({origin:t,clipboardType:"module",payload:{moduleId:t,moduleType:(0,G.getModuleType)((0,a.get)(o,[t,"name"]),e),moduleObjects:c()(o)}})}},x=({attrs:t,attrsMap:e})=>{if((0,a.isEmpty)(t))return t;const r=(0,a.keys)(e);return(0,a.pick)(t,r)},F=({attrsMapsType:t,name:e,moduleName:r,groupName:n,groupTabName:o})=>{switch(t){case"group":return`${t}-${r}-${n}`;case"groupTab":return`${t}-${r}-${n}-${o}`;case"module":return`${t}-${r}`;default:return`${t}-${e}`}},U=({attrsMapsType:t,moduleName:e,groupName:r,groupTabName:n})=>{const o=F({attrsMapsType:t,moduleName:e,groupName:r,groupTabName:n}),s=(0,d.select)("divi/clipboard").getComponentAttrsMaps(o);return s?s.getIn(["attrsMaps"]).asMutable({deep:!0}):null},z=({attrNamePath:t,breakpoint:e,state:r,subNamePath:n})=>t.concat([e,r]).concat(n),V=(t,e)=>{const r=(0,a.keys)(t),n=(0,a.keys)(e);return(0,a.intersection)(r,n).length>0},B=(t,e)=>{const r=(0,a.keys)(t),n=(0,a.keys)(e);return(0,a.intersection)(r,n).length>0},L=({sourceAttrs:t,targetAttrsMap:e,targetAttrs:r})=>{let n=r;return(0,a.forEach)(e,((e,r)=>{const o=t.getIn(r.split("."));o&&((0,a.isObject)(e)&&!(0,a.isEmpty)(e)?(0,a.forEach)(o,((t,o)=>{(0,a.forEach)(t,((t,s)=>{(0,a.forEach)(e,((e,i)=>{const c=i.split("."),p=t.getIn(c);if(!(0,a.isUndefined)(p)){const t=z({attrNamePath:r.split("."),breakpoint:o,state:s,subNamePath:c});n=n.setIn(t,p)}}))}))})):n=n.setIn(r.split("."),o))})),n},W=({sourceAttrs:t,sourceAttrsGroupNameMap:e,targetAttrsGroupNameMap:r})=>{const n={};return(0,a.forEach)(e,((e,o)=>{(0,a.forEach)(e,((e,s)=>{const i=e[0],c=(0,a.get)(t,i);(0,a.isObject)(c)&&(0,a.forEach)(c,((t,e)=>{(0,a.forEach)(t,((t,i)=>{const c=(0,a.get)(t,s);if(c){const t=(0,a.get)(r,[o,s,0]),p=[].concat(t.split(".")).concat([e,i]).concat(s.split("."));(0,a.set)(n,p,c)}}))}))}))})),c()(n)};var H=window.divi.seamlessImmutableExtension;const Y=({sourceAttrsMap:t,targetAttrsMap:e,targetAttrs:r})=>{let n=r;const o=(0,a.keys)(e);return(0,a.forEach)(t,((t,e)=>{if(!(0,a.includes)(o,e))return;const s=r.getIn(e.split("."));if(s&&(0,a.isObject)(s))if((0,a.isObject)(t)&&!(0,a.isEmpty)(t)){const r=n.getIn(e.split("."));(0,a.forEach)(r,((r,o)=>{(0,a.forEach)(r,((r,s)=>{(0,a.forEach)(t,((t,i)=>{const c=i.split("."),p=r.getIn(c);if(!(0,a.isUndefined)(p)){const t=z({attrNamePath:e.split("."),breakpoint:o,state:s,subNamePath:c});n=(0,H.removeEmptyProperties)((0,H.deepWithout)(n,t))}}))}))}))}else n=(0,H.removeEmptyProperties)((0,H.deepWithout)(n,e.split(".")))})),n},q=({sourceAttrsMap:t,sourceAttrs:e,targetAttrsMap:r,targetAttrs:n})=>{const o=Y({sourceAttrsMap:t,targetAttrsMap:r,targetAttrs:n});return L({sourceAttrs:e,targetAttrsMap:r,targetAttrs:o})},J=t=>{const e=(0,a.zipObject)(G.breakpoints,G.breakpoints.map((()=>(0,a.zipObject)(G.states,G.states.map((()=>""))))));return t?c()(e):e},K=({sourceFieldAttr:t,targetResponsiveAttr:e,targetSubName:r})=>{const n=J(!0).merge(t,{deep:!0});let o=e;return(0,a.forEach)(n,((t,e)=>{(0,a.forEach)(t,((t,n)=>{const s=r?[e,n].concat(r.split(".")):[e,n];if(""===t){const t=s.length-1,r=s.slice(0,t),i=s.slice(t);if(o.getIn(s)){const t=o.getIn(r);o=o.setIn(r,t.without(i.join(".")))}const c=o.getIn([e,n]);if(c&&(0,a.isEmpty)(c)){const t=o?.[e];o=o.setIn([e],t.without(n))}}else o=o.setIn(s,t)}));const n=o.getIn([e]);n&&(0,a.isEmpty)(n)&&(o=o.without(e))})),o},Q=t=>{if(!t)return;const e=(0,d.select)("divi/module-library").getModuleAppearanceSettings(),r=(0,d.select)("divi/settings").getSetting(["themeBuilder","layout"]),n=(0,d.select)("divi/module").getModuleCount(),o=(0,d.select)("divi/edit-post").getModule(t),s=(0,G.getModuleType)((0,a.get)(o,"name"),(0,a.get)(o,["props","attrs"],c()({})).asMutable({deep:!0})),i=(0,d.select)("divi/app-ui").hasModulesPermission(s,"add"),p=(0,d.select)("divi/clipboard").getLastItem(["module","modules"]),u=(0,d.select)("divi/edit-post").getParentModuleType(t),l=(0,a.get)(p,"clipboardType"),f=(p.clipboardType,(0,a.get)(p,["payload","moduleType"])),m=(0,G.isValidChild)(u,f)?"after":!!(0,G.isValidChild)(s,f)&&"inside";p&&m&&i&&("modules"===p.clipboardType?((0,d.dispatch)("divi/edit-post").copyModulesFromPayload({payload:{...p.payload,moduleIds:p.payload.moduleIds.asMutable({deep:!0})},position:m,targetId:t,moduleAppearanceSettings:e,themeBuilderLayout:r,moduleCount:n}),(0,d.dispatch)("divi/events").clearSelection()):"module"===l&&(0,d.dispatch)("divi/edit-post").copyModuleFromPayload({payload:p.payload,position:m,targetId:t,moduleAppearanceSettings:e,themeBuilderLayout:r,moduleCount:n},(0,a.get)(o,"name")))},X=({id:t,attrsMapsType:e,name:r,component:n,callback:o})=>{const s=(0,d.select)("divi/clipboard").getComponentAttrsMaps(t);if(s){const t=s.getIn(["attrsMaps"]);o(t?t.asMutable({deep:!0}):void 0)}else(0,d.dispatch)("divi/clipboard").addComponentAttrsMaps({payload:{id:t,attrsMapsType:e,name:r,component:n,callback:o}})}}(),(window.divi=window.divi||{}).clipboard=n}();