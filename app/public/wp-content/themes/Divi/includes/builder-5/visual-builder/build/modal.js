/*! For license information please see modal.js.LICENSE.txt */
!function(){var e={18552:function(e,t,o){var n=o(10852)(o(55639),"DataView");e.exports=n},57071:function(e,t,o){var n=o(10852)(o(55639),"Map");e.exports=n},53818:function(e,t,o){var n=o(10852)(o(55639),"Promise");e.exports=n},58525:function(e,t,o){var n=o(10852)(o(55639),"Set");e.exports=n},62705:function(e,t,o){var n=o(55639).Symbol;e.exports=n},70577:function(e,t,o){var n=o(10852)(o(55639),"WeakMap");e.exports=n},29932:function(e){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,a=Array(n);++o<n;)a[o]=t(e[o],o,e);return a}},44239:function(e,t,o){var n=o(62705),a=o(89607),i=o(2333),r=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?a(e):i(e)}},9454:function(e,t,o){var n=o(44239),a=o(37005);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},28458:function(e,t,o){var n=o(23560),a=o(15346),i=o(13218),r=o(80346),l=/^\[object .+?Constructor\]$/,s=Function.prototype,d=Object.prototype,c=s.toString,u=d.hasOwnProperty,p=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?p:l).test(r(e))}},38749:function(e,t,o){var n=o(44239),a=o(41780),i=o(37005),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!r[n(e)]}},280:function(e,t,o){var n=o(25726),a=o(86916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var o in Object(e))i.call(e,o)&&"constructor"!=o&&t.push(o);return t}},18674:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},80531:function(e,t,o){var n=o(62705),a=o(29932),i=o(1469),r=o(33448),l=n?n.prototype:void 0,s=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(r(t))return s?s.call(t):"";var o=t+"";return"0"==o&&1/t==-Infinity?"-0":o}},7518:function(e){e.exports=function(e){return function(t){return e(t)}}},14429:function(e,t,o){var n=o(55639)["__core-js_shared__"];e.exports=n},31957:function(e,t,o){var n="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g;e.exports=n},10852:function(e,t,o){var n=o(28458),a=o(47801);e.exports=function(e,t){var o=a(e,t);return n(o)?o:void 0}},89607:function(e,t,o){var n=o(62705),a=Object.prototype,i=a.hasOwnProperty,r=a.toString,l=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),o=e[l];try{e[l]=void 0;var n=!0}catch(e){}var a=r.call(e);return n&&(t?e[l]=o:delete e[l]),a}},64160:function(e,t,o){var n=o(18552),a=o(57071),i=o(53818),r=o(58525),l=o(70577),s=o(44239),d=o(80346),c="[object Map]",u="[object Promise]",p="[object Set]",m="[object WeakMap]",b="[object DataView]",f=d(n),v=d(a),g=d(i),h=d(r),y=d(l),w=s;(n&&w(new n(new ArrayBuffer(1)))!=b||a&&w(new a)!=c||i&&w(i.resolve())!=u||r&&w(new r)!=p||l&&w(new l)!=m)&&(w=function(e){var t=s(e),o="[object Object]"==t?e.constructor:void 0,n=o?d(o):"";if(n)switch(n){case f:return b;case v:return c;case g:return u;case h:return p;case y:return m}return t}),e.exports=w},47801:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},15346:function(e,t,o){var n,a=o(14429),i=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},25726:function(e){var t=Object.prototype;e.exports=function(e){var o=e&&e.constructor;return e===("function"==typeof o&&o.prototype||t)}},86916:function(e,t,o){var n=o(5569)(Object.keys,Object);e.exports=n},31167:function(e,t,o){e=o.nmd(e);var n=o(31957),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,r=i&&i.exports===a&&n.process,l=function(){try{var e=i&&i.require&&i.require("util").types;return e||r&&r.binding&&r.binding("util")}catch(e){}}();e.exports=l},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(o){return e(t(o))}}},55639:function(e,t,o){var n=o(31957),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},80346:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},83729:function(e,t,o){var n=o(18674)({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});e.exports=n},35694:function(e,t,o){var n=o(9454),a=o(37005),i=Object.prototype,r=i.hasOwnProperty,l=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return a(e)&&r.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},1469:function(e){var t=Array.isArray;e.exports=t},98612:function(e,t,o){var n=o(23560),a=o(41780);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},44144:function(e,t,o){e=o.nmd(e);var n=o(55639),a=o(95062),i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,l=r&&r.exports===i?n.Buffer:void 0,s=(l?l.isBuffer:void 0)||a;e.exports=s},41609:function(e,t,o){var n=o(280),a=o(64160),i=o(35694),r=o(1469),l=o(98612),s=o(44144),d=o(25726),c=o(36719),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||c(e)||i(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!n(e).length;for(var o in e)if(u.call(e,o))return!1;return!0}},23560:function(e,t,o){var n=o(44239),a=o(13218);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,o){var n=o(44239),a=o(37005);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},36719:function(e,t,o){var n=o(38749),a=o(7518),i=o(31167),r=i&&i.isTypedArray,l=r?a(r):n;e.exports=l},52353:function(e){e.exports=function(e){return void 0===e}},95062:function(e){e.exports=function(){return!1}},79833:function(e,t,o){var n=o(80531);e.exports=function(e){return null==e?"":n(e)}},27955:function(e,t,o){var n=o(79833),a=o(83729),i=/&(?:amp|lt|gt|quot|#39);/g,r=RegExp(i.source);e.exports=function(e){return(e=n(e))&&r.test(e)?e.replace(i,a):e}},93967:function(e,t){var o;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=r(e,i(o)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)n.call(e,o)&&e[o]&&(t=r(t,o));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n](i,i.exports,o),i.loaded=!0,i.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var n={};!function(){"use strict";o.r(n),o.d(n,{Body:function(){return l},BodyContainer:function(){return c},BodyPanelWrapper:function(){return Me},BodyPanelWrapperContainer:function(){return Se},Button:function(){return ue},CloseButton:function(){return me},ConfirmationPopup:function(){return ze},DescriptionText:function(){return u},FieldDescription:function(){return p},FieldWrapper:function(){return k},Footer:function(){return _},GlobalModuleFooter:function(){return Fe},Group:function(){return j},GroupContainer:function(){return I},GroupTabs:function(){return P},Header:function(){return ve},HelpButton:function(){return A},LocalOverlay:function(){return ge},ModuleCredit:function(){return G},OptionsButton:function(){return fe},Overlay:function(){return he},Panel:function(){return ye},PanelContainer:function(){return we},PopupModal:function(){return Re},ResizeHandle:function(){return Te},SearchBar:function(){return He},Tab:function(){return Ce},TabContainer:function(){return xe},Tabs:function(){return Ne},Wrapper:function(){return Pe},WrapperContainer:function(){return Ae},multiAppearanceModals:function(){return Ge}});var e=window.vendor.React,t=o.n(e),a=window.jQuery,i=o.n(a),r=window.lodash;const l=o=>{const{children:n,className:a,setBodySiblingHeight:l,owner:s}=o,d=(0,e.useRef)(null),[c,u]=(0,e.useState)(0),[p,m]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(0===c||p&&p!==s){let e=0;i()(d.current).siblings().each(((t,o)=>{const n=i()(o);!n.hasClass("et-vb-modal-resize-handle")&&n.is(":visible")&&(e+=i()(o).outerHeight())})),u(e),(0,r.isFunction)(l)&&l(e)}else l(c);m(s)}),[s,n]),t().createElement("div",{className:a?`et-vb-modal-body ${a}`:"et-vb-modal-body",ref:d},t().createElement("div",{className:"et-vb-modal-body-wrap"},n))};var s=window.divi.contextLibrary,d=window.divi.data;const c=({children:o,className:n})=>{const{modalName:a,owner:i}=(0,e.useContext)(s.modalWrapperContext);return t().createElement(l,{className:n,setBodySiblingHeight:e=>{(0,d.dispatch)("divi/modal-library").setBodySiblingHeight({name:a,bodySiblingHeight:e})},owner:i},o)},u=({children:e})=>t().createElement("div",{className:"et-vb-description-text"},e),p=(0,e.memo)((({description:e})=>t().createElement("p",{className:"et-vb-field-description",dangerouslySetInnerHTML:{__html:e.replace(/(<(?!\/?(b|a(\s+[^>]+)*|strong|em|i)\s*>)([^>]+)>)/gi,"")}})));var m=o(93967),b=o.n(m);var f=function(){return f=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)};Object.create;Object.create;function v(e){return e.toLowerCase()}var g=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],h=/[^A-Z0-9]+/gi;function y(e,t,o){return t instanceof RegExp?e.replace(t,o):t.reduce((function(e,t){return e.replace(t,o)}),e)}function w(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var o=t.splitRegexp,n=void 0===o?g:o,a=t.stripRegexp,i=void 0===a?h:a,r=t.transform,l=void 0===r?v:r,s=t.delimiter,d=void 0===s?" ":s,c=y(y(e,n,"$1\0$2"),i,"\0"),u=0,p=c.length;"\0"===c.charAt(u);)u++;for(;"\0"===c.charAt(p-1);)p--;return c.slice(u,p).split("\0").map(l).join(d)}(e,f({delimiter:"."},t))}var E=window.vendor.wp.i18n,C=window.divi.iconLibrary,x=window.divi.tooltip;const N=(0,e.memo)((({description:e,showDescription:o,toggleDescription:n})=>e?t().createElement("button",{type:"button",className:b()({"et-vb-field-button":!0,"et-vb-field-button--active":o,"et-vb-field-button-show-description":!0}),onClick:()=>n(!o),"aria-label":"Toggle Description",tabIndex:-1},t().createElement(C.IconSvg,{name:"divi/help",styles:{margin:"-5px 0px 0px -5px"},color:o?"#ffffff":"#273039"})):null)),M=(0,e.memo)((({enableReset:e,onReset:o})=>e?t().createElement("button",{type:"button",className:b()({"et-vb-field-button":!0,"et-vb-field-button-reset":!0}),onClick:o,"aria-label":"Reset field",tabIndex:-1},t().createElement(C.IconSvg,{name:"divi/reset-field",styles:{margin:"1px 0px 0px 2px"},color:"#273039"})):null)),S=(0,e.memo)((({toggleRightMenu:e})=>t().createElement("button",{type:"button",className:b()({"et-vb-field-button":!0,"et-vb-field-button-right-menu":!0}),onClick:t=>e(t),"aria-label":"Toggle Right Menu",tabIndex:-1},t().createElement(C.IconSvg,{name:"divi/more",viewBox:"0 0 4 17",styles:{width:"3px",minWidth:"3px",height:"14px"}})))),k=({id:o,children:n,description:a,label:i,onContextMenu:l=r.noop,onReset:s=r.noop,onRightMenu:d=r.noop,enable:c=!0,enableReset:u=!1,disabledDescription:m=(0,E.__)("This field is disabled","et_builder"),hasSync:v=!1,isSynced:g=!0,onUnsyncGlobalModuleAttribute:h,dependencyCallback:y=r.noop,dependencyList:k=[],rightMenuState:_,responsiveBreakpoint:O,className:j})=>{const T=(I=`et-vb-field-wrapper-${i}`,void 0===P&&(P={}),w(I,f({delimiter:"-"},P)));var I,P;(0,e.useEffect)(y,k);const[A,B]=(0,e.useState)(!1),R=A&&a?t().createElement(p,{description:a}):"",W=(0,e.useCallback)(s,[O]),D=i?t().createElement("div",{className:"et-vb-field-label"},t().createElement("label",null,i),t().createElement(N,{description:a,showDescription:A,toggleDescription:B}),t().createElement(M,{enableReset:u,onReset:W}),d!==r.noop&&t().createElement(S,{toggleRightMenu:d})):"",L=b()({"et-vb-field-input-wrap":!0},j),H=c?null:t().createElement(t().Fragment,null,t().createElement("div",{className:"et-vb-field-disable-overlay","data-tooltip-id":T}),t().createElement(x.TooltipContainer,{id:T,position:"center-center"},m)),z={"et-vb-global-sync":!0,"et-vb-global-sync-disabled":!g},F=window.diviDev?.experiments?.globalModuleSync,G=v&&F&&t().createElement("div",{className:b()(z),onClick:h,role:"button",tabIndex:0,onKeyDown:r.noop,"aria-label":"Unsync global module attribute"},t().createElement(C.IconSvg,{name:"divi/sync"})),$=_?.owner;let U=!1;return $?.source&&(U=$?.fieldLabel===i&&"rightMenu"===$?.source),t().createElement("div",{className:b()({"et-vb-field":!0,[`et-vb-field-${o}`]:o,"et-vb-field--disabled":!c,"et-vb-field--has-sync":v&&F,"et-vb-field--hover":U}),onContextMenu:l},G,D,R,t().createElement("div",{className:b()(L)},n),H)},_=(0,e.forwardRef)(((e,o)=>{const{buttons:n}=e;return t().createElement("div",{className:"et-vb-modal-footer",ref:o},n.map((e=>(e=>{const{disabled:o=!1}=e,n={showIcon:!0,showLabel:!0,...e},a=`et-vb-modal-footer-button--${e.name}`,i={backgroundColor:e.backgroundColor,color:e.textColor},l=e.icon?t().createElement("span",{className:"et-vb-modal-footer-button-icon"},t().createElement(C.IconSvg,{name:e.icon,animation:e?.iconAnimation,color:"#ffffff"})):"",s=(0,r.get)(e,["showTooltip"],!1);return t().createElement("button",{type:"button",key:a,"data-tooltip-id":a,className:b()({"et-vb-modal-footer-button":!0,[a]:!0,"et-vb-modal-footer-button--show-icon":n.showIcon,"et-vb-modal-footer-button--show-label":n.showLabel}),onClick:e.onClick,style:i,disabled:o},t().createElement("span",{className:"et-vb-modal-footer-button-label"},e.label),l,s?t().createElement(x.TooltipContainer,{id:a,windowLocation:"top"},e.label):null)})(e))))})),O=(0,e.memo)((({opened:e})=>t().createElement("div",{className:"et-vb-modal-group-title-icon"},e?t().createElement(C.IconSvg,{size:5,styles:{height:"16px"},viewBox:"0 -1 8 10",color:"var(--app-color)",name:"divi/caret-down"}):t().createElement(C.IconSvg,{size:5,styles:{height:"16px"},viewBox:"0 0 8 10",color:"var(--dark-gray)",name:"divi/caret-right"})))),j=(0,e.forwardRef)(((e,o)=>{const{children:n,opened:a,onTitleClick:i,onMouseEnter:r,onMouseLeave:l,onContextMenu:s,tabIndex:c,title:u,id:p}=e,m={"et-vb-modal-group":!0,"et-vb-modal-group--opened":a},f=!(0,d.select)("divi/app-preferences").get(["modal","alwaysCollapseGroups"]),v=a?t().createElement("div",{className:"et-vb-modal-group-content"},n):"";return t().createElement("div",{className:b()(m),ref:o},t().createElement("div",{className:"et-vb-modal-group-title","data-name":p,onClick:i,onKeyDown:i,onMouseEnter:r,onMouseLeave:l,onContextMenu:s,role:"button",tabIndex:c},!f&&t().createElement(O,{opened:a}),t().createElement("h3",null,u)),v)}));j.defaultProps={tabIndex:0,onContextMenu:r.noop};var T=window.divi.clipboard;const I=o=>{const{groupName:n,children:a,grouped:i,onMouseEnter:l,onMouseLeave:c,tabIndex:u,title:p,id:m,visible:b,clipboardAttrsMapsFormatter:f,clipboardCategory:v="content",preset:g}=o,{isParsingAttrsMaps:h,optionType:y}=(0,e.useContext)(s.clipboardAttrsMapsParserContext),{modalName:w,modalGroup:E}=(0,e.useContext)(s.modalWrapperContext),{panelName:C}=(0,e.useContext)(s.panelContext),x=(0,d.useSelect)((e=>e("divi/global-data").isActivePreset())),N=(0,e.useRef)(null),M=(0,r.includes)(["module","modalGroup"],y),S=e.Children.map(a,(t=>(0,e.isValidElement)(t)?(0,e.cloneElement)(t,{groupName:n}):t)),k=(0,r.includes)(["module","modalGroup"],y)||h,_=f&&k?f(S):S,O=(0,e.useContext)(s.ModalGroupContext)?.depth??0,I=!(0,d.select)("divi/app-preferences").get(["modal","alwaysCollapseGroups"]),P=(0,r.get)(E,C),A=!!I||(Array.isArray(P)?P.includes(m):m===P),B=(0,d.select)("divi/modal-library").getModal(w),R=(0,r.get)(B,["owner"]),W=(0,d.select)("divi/edit-post").getModuleName(R),D=(0,d.select)("divi/module-library").isParentModule(W),L="divi/column"!==W&&"divi/column-inner"!==W&&"structure"===(0,d.select)("divi/module-library").getModuleCategory(W);if((0,e.useEffect)((()=>{const e=(0,d.select)("divi/modal-library").getModal(w);!(0,r.isEmpty)((0,r.get)(e,"group",{}))||D||L||"content"!==C||(0,d.dispatch)("divi/modal-library").openGroup({name:w,tabName:C,groupId:m,groupIds:[m]})}),[R]),x){if("content"===g||"meta"===g)return null;const t=e.Children.toArray(_).filter((t=>(0,e.isValidElement)(t)&&!(0,r.isUndefined)(t.props.fields)&&!(0,r.isEmpty)(t.props.fields)));if(t.length){const o=t.map((t=>(0,e.isValidElement)(t)?(0,r.map)(t.props.fields,(e=>"content"===e?.features?.preset||"meta"===e?.features?.preset)):[])).flat(1/0).filter((e=>!1===e)).length;if(0===o)return null}}return b||h?t().createElement(s.ModalGroupContext.Provider,{value:{depth:O+1}},t().createElement(s.clipboardContext.Provider,{value:{clipboardCategory:v}},!i||M?_:t().createElement(j,{opened:A,onTitleClick:()=>{let e=E?.[C]?Array.isArray(E[C])?Object.values(E[C]).filter((e=>"string"==typeof e)):[E[C]]:[];0===O?e=[m]:e[O]=m,(0,d.dispatch)("divi/modal-library").openGroup({name:w,tabName:C,groupId:m,groupIds:e})},onMouseEnter:l,onMouseLeave:c,onContextMenu:e=>{const t=(0,d.select)("divi/modal-library").getModal(w),o=(0,r.get)(t,["owner"]),a=(0,d.select)("divi/edit-post").getModuleName(o);e.preventDefault(),e.stopPropagation();const i={x:e.clientX,y:e.clientY};(0,T.waitUntilAttrsMapsReady)({id:(0,T.getComponentAttrsMapsId)({attrsMapsType:"group",groupName:n||m,moduleName:a}),attrsMapsType:"group",name:n,component:f?f(_):_,callback:e=>{const t={optionType:"modalGroup",id:m,moduleId:o,modalName:w,modalTab:(0,r.isString)(C)?C:"",modalGroupLabel:p,attrsMaps:e,clipboardItem:(0,d.select)("divi/clipboard").getLastItem(["moduleFieldAttribute","moduleGroupTabAttributes","moduleGroupAttributes"]),groupName:n,groupId:m};(0,d.dispatch)("divi/right-click-options").set({cursorPosition:i,optionType:"modalGroup",owner:t,windowLocation:"top"})}})},tabIndex:u,title:p,id:m,ref:N},_))):null};I.defaultProps={tabIndex:0,grouped:!0,visible:!0};const P=e=>{const{tabs:o,showIcon:n,showLabel:a,onClick:i,onContextMenu:l,activeTab:s}=e,d=(0,r.keys)(o);return t().createElement("div",{className:b()({"et-vb-group-tabs":!0,"et-vb-group-tabs--show-icon":n,"et-vb-group-tabs--show-label":a})},d.map((e=>{const n=o[e],a=t().createElement(C.IconSvg,{name:n.icon,viewBox:"0 0 20 20",size:10,styles:{margin:"0 auto"}});return t().createElement("button",{type:"button",key:`et-vb-group-tab--${e}`,className:b()({"et-vb-group-tab":!0,"et-vb-group-tab--active":e===s,[`et-vb-group-tab--${e}`]:!0,"et-vb-group-tab--modified":o[e]?.modified}),onClick:i,onContextMenu:l,value:e,"data-label":n.label,"data-tooltip-id":`et-vb-group-tab--${e}`},a,t().createElement("span",{className:"et-vb-group-tab-label"},n.label),t().createElement(x.TooltipContainer,{windowLocation:"top",id:`et-vb-group-tab--${e}`},n.label))})))};P.defaultProps={showIcon:!0,showLabel:!1,onContextMenu:r.noop};const A=(0,e.memo)((e=>{const{onHelpClick:o=r.noop}=e;return t().createElement("button",{type:"button",className:b()({"et-vb-button":!0,"et-vb-help-button":!0}),onClick:()=>o()},t().createElement(C.IconSvg,{name:"divi/help-circle",className:"et-vb-icon--divi-help-circle"}),t().createElement("span",{className:"et-vb-help-button-label"},(0,E.__)("Help","et_builder")))}));var B=o(41609),R=o.n(B),W=o(52353),D=o.n(W),L=o(27955),H=o.n(L),z=window.divi.window;const F=e=>{const{target:t}=e,o=t.href;if(!D()(o)){e.preventDefault();z.topWindow.open(o,"_blank").focus()}},G=({moduleURI:o,author:n,authorURI:a,moduleLabel:i,official:r})=>{const l=(0,e.useRef)();if((0,e.useEffect)((()=>{jQuery(l.current).on("click","a",F)}),[]),r||R()(n))return null;const s=o?`<a href="${o}">${i}</a>`:i,d=a?`<a href="${a}">${n}</a>`:n;return t().createElement("div",{className:"et-vb-settings-modal-module-credits",dangerouslySetInnerHTML:{__html:H()((0,E.sprintf)((0,E.__)("%s by %s","et_builder"),s,d))},ref:l})};var $,U=window.divi.draggable,V=new Uint8Array(16);function Y(){if(!$&&!($="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(V)}var q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Q=function(e){return"string"==typeof e&&q.test(e)},Z=[],K=0;K<256;++K)Z.push((K+256).toString(16).substr(1));var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(Z[e[t+0]]+Z[e[t+1]]+Z[e[t+2]]+Z[e[t+3]]+"-"+Z[e[t+4]]+Z[e[t+5]]+"-"+Z[e[t+6]]+Z[e[t+7]]+"-"+Z[e[t+8]]+Z[e[t+9]]+"-"+Z[e[t+10]]+Z[e[t+11]]+Z[e[t+12]]+Z[e[t+13]]+Z[e[t+14]]+Z[e[t+15]]).toLowerCase();if(!Q(o))throw TypeError("Stringified UUID is invalid");return o};var J=function(e,t,o){var n=(e=e||{}).random||(e.rng||Y)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var a=0;a<16;++a)t[o+a]=n[a];return t}return X(n)};let ee={dimension:{width:0,height:0},offset:{top:0,left:0}},te=[],oe=!1,ne=!1,ae=!1,ie=!1,re="multiInstanceModal";const le=({snappable:e,modalDimension:t,modalName:o,modalOffset:n})=>a=>{ne=(0,d.select)("divi/app-ui").isSidebarModal(o);const i=(0,d.select)("divi/modal-library").getModal(o),r=i?.dimension?.width??400;re=i?.type??"multiInstanceModal",te=(0,d.select)("divi/app-ui").getDockingAreas({type:re,width:r}),(0,d.dispatch)("divi/modal-library").setDraggingState({name:o,status:!0}),e&&ne&&((0,d.dispatch)("divi/modal-library").setOffset({name:o,offset:n}),(0,d.dispatch)("divi/app-ui").setDraggedToUndockSidebarModal(o),ie=(0,d.select)("divi/app-ui").getSidebarModalInfo(o).sidebarRowId,oe={id:"string"==typeof ie?ie:"",type:"sidebar-modal"}),ee={dimension:t,offset:n}},se=({modalName:e,snappable:t})=>o=>{const n={top:(ee.offset.top??o?.domRect?.top??0)+o.sinceMouseDown.y,left:(ee.offset.left??o?.domRect?.left??0)+o.sinceMouseDown.x};if((0,d.dispatch)("divi/modal-library").setOffset({name:e,offset:n}),t){const t=(0,d.select)("divi/app-ui").getHoveredDockingArea(n,te);if(ne){oe=!!t&&{id:t?.id,type:t?.type};"object"==typeof t&&ie===t.id?ae&&(ae=!1,(0,d.dispatch)("divi/app-ui").setDraggedToUndockSidebarModal(!1)):ae||(ae=!0,(0,d.dispatch)("divi/app-ui").setDraggedToUndockSidebarModal(e))}else{const e=!!t&&{id:t?.id,type:t?.type};e!==oe&&(oe=e,(0,d.dispatch)("divi/app-ui").setHoveredSidebarDockingArea({sidebarDockingArea:e}))}}},de=({modalName:e,snappable:t})=>o=>{if(t)if(ne){if(ae&&!oe){const{sidebarRowId:t}=(0,d.select)("divi/app-ui").getSidebarModalInfo(e);(0,d.dispatch)("divi/app-ui").undockModalFromSidebarRow({modalName:e,sidebarRowId:t})}}else{const t={"sidebar-row":"above","sidebar-modal":"inside","sidebar-row-last":"below"};if("object"==typeof oe)switch(oe.type){case"sidebar-row":case"sidebar-modal":case"sidebar-row-last":(0,d.dispatch)("divi/app-ui").dockModalToSidebarRow({modalName:e,modalType:re,newSidebarRowId:J(),sidebarRowId:oe.id,position:(0,r.includes)(["above","inside","below"],t[oe.type])?t[oe.type]:"above"});break;case"sidebar":(0,d.dispatch)("divi/app-ui").dockModalToSidebar({modalName:e,modalType:re,newSidebarRowId:J(),sidebarName:(0,r.includes)(["sidebarLeft","sidebarRight"],oe.id)?oe?.id:"sidebarLeft"})}}(0,d.dispatch)("divi/modal-library").setDraggingState({name:e,status:!1}),(0,d.dispatch)("divi/app-ui").setDraggedToUndockSidebarModal(!1),oe=!1,ie=!1,re="multiInstanceModal",(0,d.dispatch)("divi/app-ui").setHoveredSidebarDockingArea({sidebarDockingArea:!1})};var ce=window.divi.keyboardShortcuts;const ue=e=>{const{name:o,onButtonClick:n,label:a,icon:i,color:r="#ffffff",visible:l,size:s}=e;if(!l)return null;const d=e=>e.stopPropagation(),c=i?t().createElement(C.IconSvg,{name:i,color:r,size:s,viewBox:"divi/more"===i?"-13 -8 32 32":"0 0 28 28"}):"",u=`et-vb-modal-header-button--${o}`;return t().createElement("button",{type:"button",className:b()({"et-vb-modal-header-button":!0,"et-vb-modal-header-button--has-icon":""!==i,[`et-vb-modal-header-button--${o}`]:!0}),onClick:n,onMouseUp:d,onMouseMove:d,onMouseDown:d,"data-tooltip-id":u},t().createElement("span",{className:"et-vb-modal-header-button-label"},a),c,t().createElement(x.TooltipContainer,{windowLocation:"top",id:u},a))};ue.defaultProps={visible:!0,icon:""};const pe=({modalName:o,onClickBackButton:n,primary:a})=>((0,e.useEffect)((()=>{const e=`backModal--${o}`;return(0,ce.registerShortcut)({name:e,label:(0,E.__)("Back to parent modal","et_builder"),keys:["Escape"],category:"modal",action:()=>n()}),()=>{(0,ce.unregisterShortcut)(e)}}),[]),t().createElement(ue,{name:"back-to-parent",icon:"divi/back",onButtonClick:n,label:(0,E.__)("Back to parent","et_builder"),color:a?"#ffffff":"#273039"})),me=(0,e.memo)((o=>{const{closeable:n,modalName:a,onClickCloseButton:i}=o,{isGlobalColorEditing:r}=(0,d.useSelect)((e=>({isGlobalColorEditing:e("divi/global-data").isGlobalColorEditing()})),[]);if(!n)return null;const l=()=>{if(r)return void(0,d.dispatch)("divi/modal-library").setIsModalClosing({isClosing:!0});const e=(0,d.select)("divi/modal-library").getModal(a);(0,d.dispatch)("divi/modal-library").close({name:a});const t=(0,d.select)("divi/modal-library").getActiveModalNames({excludeModalNames:[]}).map((e=>(0,d.select)("divi/modal-library").getModal(e)));!e?.isSubmodal&&t.length>0&&t.forEach((e=>{e?.autoCloseOnClickOutside&&(0,d.dispatch)("divi/modal-library").close({name:e.name})}))};return(0,e.useEffect)((()=>{const e=`closeModal--${a}`;return(0,ce.registerShortcut)({name:e,label:(0,E.__)("close Modal","et_builder"),keys:["Escape"],category:"modal",action:l}),()=>{(0,ce.unregisterShortcut)(e)}}),[]),t().createElement(ue,{visible:n,name:"close",onButtonClick:i??l,label:(0,E.__)("Close Modal","et_builder"),icon:"divi/close",size:12,color:"#273039"})})),be=e=>e.stopPropagation(),fe=({name:e,className:o="",label:n="",onButtonClick:a=r.noop,tooltipId:i="",tooltipText:l="",iconName:s,iconColor:d="#ffffff",iconSize:c=7,iconViewBox:u="0 0 28 28",visible:p=!0})=>{if(!p)return null;const m=i&&l?t().createElement(x.TooltipContainer,{windowLocation:"top",id:i},l):null;return t().createElement("button",{type:"button",className:`et-vb-modal-header-options et-vb-modal-header-options--${e} ${o}`,onClick:a,onMouseUp:be,onMouseMove:be,onMouseDown:be,"data-tooltip-id":i},t().createElement("span",{className:"et-vb-modal-header-options-label"},n),s?t().createElement(C.IconSvg,{name:s,color:d,size:c,viewBox:u}):null,m)},ve=o=>{const{name:n,onContextMenu:a,closeButton:i,onClickCloseButton:l,backButton:d,onClickBackButton:c,primary:u,renderBefore:p=(()=>null),customButtons:m,sticky:f=!1}=o;return t().createElement(s.modalWrapperContext.Consumer,null,(o=>{const{modalDimension:s,modalOffset:v,modalName:g,snappable:h,expand:y,draggable:w}=o;return t().createElement(U.Draggable,{className:b()({"et-vb-modal-header":!0,"et-vb-modal-header--standard":!u,"et-vb-modal-header--primary":u,"et-vb-modal-header--sticky":f}),onContextMenu:a,onElementClick:le({modalName:g,snappable:h,modalDimension:s,modalOffset:v}),onElementDrag:se({modalName:g,snappable:h}),onElementRelease:de({modalName:g,snappable:h,modalDimension:s}),disable:!w||y},(0,r.isFunction)(p)&&p(),t().createElement("div",{className:b()({"et-vb-modal-header--title-container":!0})},d&&t().createElement(pe,{modalName:g,onClickBackButton:c,primary:u}),t().createElement("h2",{className:b()({"et-vb-modal-title":!0,"et-vb-modal-title--has-back-button":d})},n),m?t().createElement("div",{className:"et-vb-modal-header--button-options"},m.map((t=>(0,e.createElement)(fe,{key:t.name,...t})))):null,t().createElement("div",{className:"et-vb-modal-header-button-wrapper"},t().createElement(me,{closeable:i,modalName:g,onClickCloseButton:l}))))}))};ve.defaultProps={moreButton:!1,closeButton:!0,onContextMenu:r.noop};const ge=e=>{const{className:o,children:n}=e;return t().createElement("div",{className:`et-common-local-overlay ${o}`},n)},he=e=>{const{backgroundColor:o,zIndex:n,onOverlayClick:a}=e;return t().createElement("div",{className:"et-vb-modal-overlay",onClick:a,role:"button",onKeyPress:e=>{"Enter"===e.key&&a()},tabIndex:0,style:{backgroundColor:o,zIndex:n}},t().createElement("span",{className:"et-vb-modal-overlay-hidden-label"},(0,E.__)("Overlay","et_builder")))};he.defaultProps={backgroundColor:"rgba(255,255,255,.8)",zIndex:100025,onOverlayClick:r.noop};const ye=e=>{const{children:o,id:n,opened:a,hasGroupOpened:i,height:r}=e;if(!a)return null;const l={"et-vb-modal-panel":!0,"et-vb-modal-panel--has-group--opened":i};return t().createElement("div",{className:b()(l),"data-id":n,style:{height:r}},t().createElement("form",{className:"et-vb-modal-panel-form",autoComplete:"off",onSubmit:e=>e.preventDefault()},o))},we=o=>{const{children:n,id:a,isMultiPanels:i,opened:r}=o,{modalActiveTab:l,modalDimension:d,modalGroup:c,bodySiblingHeight:u}=(0,e.useContext)(s.modalWrapperContext),p=r||i||l===a,m=!(!Array.isArray(c?.[a])&&"string"!=typeof c?.[a])&&c?.[a].length>0;return p?t().createElement(s.panelContext.Provider,{value:{panelName:a}},t().createElement(ye,{id:a,opened:p,hasGroupOpened:m,height:d.height-u-2},n)):null};var Ee=window.divi.rightClickOptions;const Ce=e=>{const{active:o,children:n,onClick:a,onContextMenu:i}=e,r={"et-vb-modal-tab":!0,"et-vb-modal-tab--active":o};return t().createElement("button",{type:"button",className:b()(r),onClick:a,onContextMenu:i},n)};Ce.defaultProps={onContextMenu:r.noop};const xe=e=>{const{children:o,id:n}=e;return t().createElement(s.modalWrapperContext.Consumer,null,(e=>{const{modalName:a,modalActiveTab:i}=e,l=i===n;return t().createElement(Ce,{active:l,onClick:()=>{(0,d.dispatch)("divi/modal-library").openTab({name:a,tabName:n})},onContextMenu:e=>{const t={id:n,modalName:a,modalTab:n,optionType:"modalTab"},o=(0,Ee.getModalTabOptions)(t);(0,r.isEmpty)(o)||(e.preventDefault(),e.stopPropagation(),(0,d.dispatch)("divi/right-click-options").set({cursorPosition:{x:e.clientX,y:e.clientY},optionType:"modalTab",owner:t,windowLocation:"top"}))}},o)}))},Ne=e=>{const{children:o,className:n}=e;return t().createElement("div",{className:n?`et-vb-modal-tabs ${n}`:"et-vb-modal-tabs"},o)},Me=e=>{const{children:o,beforeTabItems:n,afterTabItems:a,isMultiPanels:i,showTabs:l}=e,s=[],d=(0,r.keys)(o).map((e=>{const n=(0,r.get)(o,[e,"props","id"],""),a=(0,r.get)(o,[e,"props","label"],"");return s.push(n),t().createElement(xe,{key:`autogeneratedtab-${n}`,id:n},a)}));return t().createElement(t().Fragment,null,l&&t().createElement(Ne,{className:b()({"et-vb-modal-tabs--multi-panels":i})},n,d,a),t().createElement(c,{className:b()({"et-vb-modal-body--multi-panels":i})},o))},Se=o=>{const{children:n,beforeTabItems:a,afterTabItems:i,showTabs:l}=o,{modalName:c,modalActiveTab:u,isMultiPanels:p}=(0,e.useContext)(s.modalWrapperContext),m=[],b=()=>{if(!(0,r.isString)(u))return;const e=m.indexOf(u);if(e<0)return;const t=e+1>m.length-1?0:e+1;m[t]&&(0,d.dispatch)("divi/modal-library").openTab({name:c,tabName:m[t]})};(0,e.useEffect)((()=>((0,ce.registerShortcut)({name:`switchTab--${c}`,label:(0,E.__)("Switch Tab","et_builder"),keys:["Shift","Tab"],category:"modal",action:b}),()=>{(0,ce.unregisterShortcut)(`switchTab--${c}`)})),[u]);const f=e.Children.count(n);return(0,e.useEffect)((()=>{(0,d.dispatch)("divi/modal-library").setPanelSize({name:c,panelSize:f})}),[f]),t().createElement(Me,{showTabs:l??!0,beforeTabItems:a,afterTabItems:i,isMultiPanels:p},e.Children.map(n,(t=>(0,e.isValidElement)(t)?(0,e.cloneElement)(t,{isMultiPanels:p}):t)))};let ke={dimension:{width:0,height:0}};const _e=e=>{const{modalDimension:t}=e;return()=>{ke={dimension:t}}},Oe=e=>{const{dimensionMinimum:t,modalName:o}=e;return e=>{const n={name:o,dimension:{width:(()=>{let o=0;return o=ke.dimension.width+e.sinceMouseDown.x,o<t.width?t.width:o})(),height:(()=>{let o=0;return o=ke.dimension.height+e.sinceMouseDown.y,o<t.height?t.height:o})()},minimum:{width:t.width,height:t.height}};(0,d.dispatch)("divi/modal-library").setDimension(n)}},je=e=>"top"===e?"rotate(45deg)":(0,r.includes)(["left","right"],e)?"rotate(-45deg)":"",Te=e=>{const{position:o}=e;return t().createElement(s.modalWrapperContext.Consumer,null,(e=>{const{modalName:n,modalDimension:a,dimensionMinimum:i}=e;return t().createElement(U.Draggable,{type:"button",className:b()(["et-vb-modal-resize-handle",`et-vb-modal-resize-handle--${o}`]),onElementClick:_e({modalDimension:a}),onElementDrag:Oe({dimensionMinimum:i,modalName:n})},t().createElement("span",{className:"et-vb-modal-resize-handle-label"},(0,E.__)("Resize","et_builder")),t().createElement(C.IconSvg,{name:"divi/resize",color:"#ffffff",styles:{marginLeft:"-5px",transform:je(o)}}))}))},Ie=100,Pe=({adminBarHeight:o=32,appWindowHeight:n,appWindowPageYOffset:a=0,bodySiblingHeight:l,caret:c=!1,caretStaysOnAppWindowClickPosition:u=!1,centered:p,children:m,dimension:f,dimensionMinimum:v={width:350,height:350},draggable:g=!1,expand:h=!1,expandable:y=!1,modalActiveTab:w="content",modalGroup:E={},modalName:C,multiPanels:x=!1,offset:N,owner:M,isGlobal:S,isGlobalSaving:k,panelSize:_,resizable:O=!1,snappable:j=!1,style:T={},topWindowHeight:I=900,topWindowWidth:P=1400,isDragging:A,isResizing:B,builderBarWidth:R,pageBarHeight:W,sideBarLeftWidth:D,enableContextMenu:L,isModalActive:H,autoCloseOnClickOutside:F,autoCloseExceptionSelector:G})=>{const[$,U]=(0,e.useState)(0),V=(0,e.useRef)();(0,e.useEffect)((()=>{U(a)}),[]);let Y=!!c&&"bottom";const q=(({expand:e,dimension:t,topWindowHeight:o,topWindowWidth:n,adminBarHeight:a})=>e?{width:n-200,height:o-200-a}:{width:0,height:0,...t})({expand:h,dimension:f,topWindowHeight:I,topWindowWidth:P,adminBarHeight:o}),Q={...N},Z=x&&!h&&_>1&&q.width>400*_;if(u){const e=14,t=a-$,i=N.top-t,r=n-i;if(i>=q.height&&r<q.height){const n=Q.top-q.height-t,a=W+o-e;Q.top=n+a,Q.left=Q.left+R+D}else{const n=e+W+o;Q.top=Q.top-t+n,Q.left=Q.left+R+D,Y="top"}}const K={bodySiblingHeight:(0,r.isNumber)(l)?l:0,dimensionMinimum:v,draggable:g,expand:h,expandable:y,isMultiPanels:Z,modalActiveTab:w,modalDimension:q,modalGroup:E,modalName:C,modalOffset:Q,modalWrapperRef:V,multiPanels:x,owner:M,panelSize:_,resizable:O,snappable:j,topWindowHeight:I,topWindowWidth:P},X={"et-vb-modal":!0,"et-vb-modal--main":!0,"et-vb-modal--draggable":g,"et-vb-modal--resizable":O,"et-vb-modal--caret":c,"et-vb-modal--caret-top":"top"===Y,"et-vb-modal--caret-bottom":"bottom"===Y,"et-vb-modal--caret-stays-on-click-position":u,"et-vb-modal--global":S,"et-vb-modal--global-saving":k},J={...f,...Q,...T};h&&(J.top=Ie+o,J.right=Ie,J.bottom=Ie,J.left=Ie,J.width=q.width,J.height=q.height),p&&(J.top=`calc((100vh - ${q.height}px) / 2)`,J.left=`calc((100vw - ${q.width}px) / 2)`),(0,e.useEffect)((()=>{const e=V.current;B?e.classList.add("et-vb-modal--is-resizing"):e.classList.remove("et-vb-modal--is-resizing")}),[B]),(0,e.useEffect)((()=>{const e=V.current;A?e.classList.add("et-vb-modal--is-dragging"):e.classList.remove("et-vb-modal--is-dragging")}),[A]);const ee=!O||h?"":t().createElement(Te,{position:"corner"});return(0,e.useEffect)((()=>{const e=V.current,t=t=>{const o=!!G&&0!==i()(t.target).closest(G).length;!e||e.contains(t.target)||o||(0,d.dispatch)("divi/modal-library").close({name:C})};return H&&F&&(window.document.addEventListener("mousedown",t),z.topWindow.document.addEventListener("mousedown",t)),()=>{window.document.removeEventListener("mousedown",t),z.topWindow.document.removeEventListener("mousedown",t)}}),[H]),t().createElement(s.modalWrapperContext.Provider,{value:K},t().createElement("div",{className:b()(X),style:J,"data-modal-name":C,ref:V,onContextMenu:e=>{L||jQuery(e.target).is("input:focus")||jQuery(e.target).closest(".et-vb-field-input-wrap").length>0||e.preventDefault()}},t().createElement("div",{className:"et-vb-modal-wrapper"},m),ee))},Ae=t=>{const{modalName:o,modalActiveTab:n,caretStaysOnAppWindowClickPosition:a,bodySiblingHeight:i}=t,{adminBarHeight:r,appWindowHeight:l,appWindowPageYOffset:s,bodySiblingHeight:c,builderBarWidth:u,dimensionState:p,dimensionMinimum:m,draggedToUndockSidebarModal:b,isDragging:f,isResizing:v,modalOffset:g,pageBarHeight:h,panelSize:y,sideBarLeftWidth:w,sidebarModal:E,sidebarModalDimension:C,topWindowHeight:x,topWindowWidth:N,appAdminBar:M,isModalActive:S,autoCloseOnClickOutside:k,autoCloseExceptionSelector:_}=(0,d.useSelect)((e=>{const n=!!t?.snappable&&e("divi/app-preferences").get(["modal","preference"]),i=e("divi/modal-library").getModalProperty({modalName:o,property:"type"}),r=e("divi/modal-library").getModalProperty({modalName:o,property:"autoCloseOnClickOutside"}),l=e("divi/modal-library").getModalProperty({modalName:o,property:"autoCloseExceptionSelector"});return{sidebarModal:e("divi/app-ui").isSidebarModal(o),isDragging:e("divi/modal-library").isModalDragging(o),isModalActive:e("divi/modal-library").isModalActive(o),draggedToUndockSidebarModal:e("divi/app-ui").getDraggedToUndockSidebarModal(),appWindowHeight:e("divi/app-ui").getWindow("height","app"),appWindowPageYOffset:a?e("divi/app-ui").getWindow("pageYOffset","app"):0,snapPreference:n,modalOffset:e("divi/modal-library").getModalProperty({modalName:o,property:"offset"}),adminBarHeight:e("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"}),builderBarWidth:e("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),sideBarLeftWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:o,property:"bodySiblingHeight"}),sidebarModalDimension:e("divi/app-ui").getSidebarModalDimension(o,i,e("divi/modal-library").getModal(o)?.dimensionMinimum?.width??0),topWindowHeight:e("divi/app-ui").getWindow("height","top"),topWindowWidth:e("divi/app-ui").getWindow("width","top"),panelSize:e("divi/modal-library").getModalProperty({modalName:o,property:"panelSize"}),isResizing:e("divi/modal-library").getModalProperty({modalName:o,property:"isResizing"}),dimensionMinimum:e("divi/modal-library").getModalProperty({modalName:o,property:"dimensionMinimum"}),dimensionState:e("divi/modal-library").getModalProperty({modalName:o,property:"dimension"}),appAdminBar:e("divi/app-preferences").get(["app","adminBar"]),autoCloseOnClickOutside:r,autoCloseExceptionSelector:l}})),O=E?C:t?.dimension||p;let j=E&&!("object"==typeof b&&o===b?.modalName)?{}:t?.offset??g;if("add-from-library"===n){const e=M?.visible,t=32;j={top:r+h+(e?t:0),left:u+w+t}}const T={...t,adminBarHeight:r,appWindowHeight:l,appWindowPageYOffset:s,bodySiblingHeight:i||c,builderBarWidth:u,dimension:O,dimensionMinimum:m,isDragging:f,isResizing:v,offset:j,pageBarHeight:h,panelSize:y,sideBarLeftWidth:w,topWindowHeight:x,topWindowWidth:N,isModalActive:S,autoCloseOnClickOutside:k,autoCloseExceptionSelector:_};return(0,e.createElement)(Pe,T)};var Be=window.vendor.ReactDOM;const Re=({children:o,open:n=!1,className:a,onCancel:i,onConfirm:r})=>{const{modalWrapperRef:l}=(0,e.useContext)(s.modalWrapperContext),d=t().createElement("div",{className:b()("et-vb-popup-modal",a)},t().createElement("div",{className:"et-vb-popup-modal-body"},o),t().createElement("div",{className:"et-vb-popup-modal-footer"},t().createElement("button",{type:"button","data-tooltip-id":"et-vb-popup-modal-discard-button",className:"et-vb-popup-modal-button et-vb-popup-modal-discard-button",onClick:()=>{i()}},t().createElement("span",{className:"et-vb-popup-modal-button--label"},(0,E.__)("Cancel","et_builder")),t().createElement("span",{className:"et-vb-popup-modal-button--icon"},t().createElement(C.IconSvg,{name:"divi/exit",color:"#ffffff"})),t().createElement(x.TooltipContainer,{id:"et-vb-popup-modal-discard-button",windowLocation:"top"},(0,E.__)("Discard All Changes","et_builder"))),t().createElement("button",{type:"button","data-tooltip-id":"et-vb-popup-modal-save-button",className:"et-vb-popup-modal-button et-vb-popup-modal-save-button",onClick:()=>{r()}},t().createElement("span",{className:"et-vb-popup-modal-button--label"},(0,E.__)("Apply","et_builder")),t().createElement("span",{className:"et-vb-popup-modal-button--icon"},t().createElement(C.IconSvg,{name:"divi/check",color:"#ffffff"})),t().createElement(x.TooltipContainer,{id:"et-vb-popup-modal-save-button",windowLocation:"top"},(0,E.__)("Save Changes","et_builder")))));return(0,Be.createPortal)(n?d:null,l.current)},We=({placeholder:o="Start Typing",options:n,onOptionClick:a})=>{const[i,r]=(0,e.useState)({}),l=(0,e.useRef)(null);(0,e.useEffect)((()=>{r(n),l.current&&l.current.focus()}),[]);return t().createElement("div",{className:b()({"et-vb-filter-dropdown":!0})},t().createElement("div",{className:b()({"et-vb-filter-dropdown__input":!0})},t().createElement("input",{ref:l,type:"text",name:"filter-search",placeholder:o,onChange:e=>{const t=e.target.value.toLowerCase(),o=Object.fromEntries(Object.entries(n).filter((([e,o])=>e&&o.label.toLowerCase().includes(t))));r(o)}}),t().createElement("div",{className:b()({"et-vb-filter-dropdown__tag":!0})},(0,E.__)("Show Only","et_builder")),t().createElement("div",{className:b()({"et-vb-filter-dropdown__list":!0})},t().createElement("ul",null,Object.values(i).map((e=>t().createElement("li",{key:e.name,"data-name":e.name,"data-label":e.label,onClick:a,role:"presentation"},e.label)))))))},De=({label:o="Filter",isFilterActive:n,isFilterReset:a,onFilterResetClick:i,onFilterOptionClick:r,filterOptions:l})=>{const[s,d]=(0,e.useState)(!1),[c,u]=(0,e.useState)(o),[p,m]=(0,e.useState)(!1),f=a?o:c,v=!a&&p;return t().createElement(t().Fragment,null,t().createElement("div",{className:b()({"et-vb-filter-button":!0})},t().createElement("button",{type:"button",className:b()({"et-vb-filter-button__button":!0,"et-vb-filter-button__button-black":v}),onClick:()=>{d(!s)}},t().createElement("span",{className:b()({"et-vb-filter-button__label":!!n,"et-vb-filter-button__label-white":v})},n?f:""),!v&&t().createElement(C.IconSvg,{name:"divi/filter",size:16}),v&&t().createElement("span",{onClick:e=>{e.stopPropagation(),u(o),m(!1),d(!1),i&&i()},role:"presentation"},t().createElement(C.IconSvg,{name:"divi/exit",size:11,color:"#FFFFFF"})))),s&&t().createElement(We,{onOptionClick:e=>{const t=e.target,o=t.getAttribute("data-name"),n=t.getAttribute("data-label");u(n),m(!0),d(!1),r&&r(o)},options:l}))},Le=({onResetButtonClick:e})=>t().createElement(t().Fragment,null,t().createElement("div",{className:"et-vb-reset-button"},t().createElement("button",{type:"button",className:b()({"et-vb-reset-button--button":!0}),onClick:()=>{e()},"aria-label":(0,E.__)("Reset search input","et_builder")},t().createElement(C.IconSvg,{name:"divi/close",size:13})))),He=({placeholder:o="Search",onSearchInputChange:n,shouldResetSearchInput:a=!1,isSearchActive:i=!1,className:r="",isFilterActive:l=!1,isFilterReset:s=!1,onFilterResetClick:d,onFilterOptionClick:c,filterOptions:u})=>{const p=(0,e.useRef)(null),m=()=>{p.current&&(p.current.value="",n&&n(""))};a&&m();const f=[{"et-vb-search-bar":!0,"et-vb-search-bar-active":i}];return t().createElement("div",{className:b()(f,r)},t().createElement("div",{className:"et-vb-search-bar-inner"},t().createElement(C.IconSvg,{name:"divi/search-layer",size:13,viewBox:"0 0 24 24"}),t().createElement("input",{type:"text",ref:p,className:b()({"et-vb-search-bar-input":!0}),defaultValue:"",placeholder:o,onChange:e=>{n&&n(e.target?.value)}}),i&&t().createElement(Le,{onResetButtonClick:m})),t().createElement(De,{isFilterActive:l,isFilterReset:s,onFilterResetClick:d,onFilterOptionClick:c,filterOptions:u}))},ze=o=>{const{onConfirmClick:n,onCancelClick:a,onContinueClick:i}=o;return t().createElement(e.Fragment,null,t().createElement("div",{className:"et-vb-modal-confirmation-popup"},t().createElement("p",{className:"et-vb-modal-confirmation-popup-text"},(0,E.__)("This will update all instances across your entire site.")),t().createElement("div",{className:"et-vb-modal-confirmation-popup-buttons"},t().createElement("button",{type:"button",className:"et-vb-modal-popup-btn et-vb-modal-secondary-btn",onClick:()=>{a()}},(0,E.__)("Cancel Changes","et_builder")),t().createElement("button",{type:"button",className:"et-vb-modal-popup-btn et-vb-modal-secondary-btn",onClick:()=>{i()}},(0,E.__)("Continue Editing","et_builder")),t().createElement("button",{type:"button",className:"et-vb-modal-popup-btn et-vb-modal-primary-btn",onClick:()=>{n()}},(0,E.__)("Update","et_builder")))))},Fe=e=>{const{owner:o}=e,n=(0,d.select)("divi/edit-post").getGlobalLayoutId(o),{isLayoutSaving:a,hasPreEditContent:i}=(0,d.useSelect)((e=>({isLayoutSaving:e("divi/global-layouts").isLayoutSaving(n),hasPreEditContent:e("divi/global-layouts").hasPreEditContent(n)})));return t().createElement(_,{buttons:[{name:"globalModuleCancel",label:"Cancel",showIcon:!1,showLabel:!0,showTooltip:!1,disabled:a||!i,onClick:()=>{(0,d.dispatch)("divi/edit-post").revertGlobalModuleEditState({id:n,owner:o})}},{name:"globalModuleSave",label:a?(0,E.__)("Saving...","et_builder"):(0,E.__)("Save","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,disabled:a||!i,onClick:()=>{(0,d.dispatch)("divi/global-layouts").openConfirmationPopup({id:n})},backgroundColor:"#97d000"}]})},Ge=["multi","confirmation"]}(),(window.divi=window.divi||{}).modal=n}();